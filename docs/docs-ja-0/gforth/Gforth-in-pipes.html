<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Gforth in pipes (Gforth マニュアル)</title>

<meta name="description" content="Gforth in pipes (Gforth マニュアル)">
<meta name="keywords" content="Gforth in pipes (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Gforth-Environment.html" rel="up" title="Gforth Environment">
<link href="Startup-speed.html" rel="next" title="Startup speed">
<link href="Gforth-Files.html" rel="prev" title="Gforth Files">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="section" id="Gforth-in-pipes">
<div class="header">
<p>
Next: <a href="Startup-speed.html" accesskey="n" rel="next">Startup speed</a>, Previous: <a href="Gforth-Files.html" accesskey="p" rel="prev">Gforth files</a>, Up: <a href="Gforth-Environment.html" accesskey="u" rel="up">Gforth Environment</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Gforth-in-pipes-1"></span><h3 class="section">2.7 Gforth in pipes</h3>
<span id="index-pipes_002c-Gforth-as-part-of"></span>

<p>Gforth は、他の場所で作成されたパイプラインを使用できます(以下で説明します)。
独自にパイプラインを作成することもできます(see <a href="Pipes.html">Pipes</a>)。
</p>
<span id="index-input-from-pipes"></span>
<p>Gforth にパイプライン入力する場合、 プログラムは <code>stdin</code> から <code>read-file</code> または
<code>read-line</code> を使用して読み取る必要があります(see <a href="General-files.html">General files</a>)。 <code>Key</code>
は入力の終わりを認識しません。  <code>accept</code> のようなワードは入力をエコーするため、
通常はパイプラインからの読み取りには役に立ちません。 あなたは、
(Forthのテキスト・インタプリタはパイプライン入力を通訳(interpret)しようとしてしまうため、)Forth内のコマンド・ラインを使用する機会はなく、
OSのコマンド・ライン・オプションを使用して Forth プログラムを呼び出す必要があります。
</p>
<span id="index-output-in-pipes"></span>
<p>あなたは <code>type</code>、 <code>emit</code>、 <code>cr</code> などでパイプラインへ出力できます。
</p>
<span id="index-silent-exiting-from-Gforth"></span>
<p>もう一方の端で既に閉じられているパイプラインに書き込むと、 Gforth は SIGPIPE シグナル(「パイプが壊れた」シグナル)を受け取ります。
Gforth はこれを例外 <code>broken-pipe-error</code> に変換します。 あなたのアプリケーションがその例外をキャッチしない場合、
システムはその例外をキャッチして、 通常は黙って終了(exit)します(Forth コマンド・ラインで作業している場合を除き、
エラー・メッセージを出力して終了します)。 これは通常、 望ましい動作です。
</p>
<p>この振る舞いが気に入らない場合は、 自分で例外をキャッチし、 対応する必要があります。
</p>
<p>ここで、 パイプライン内で使用できる Gforth の呼び出しの例を以下に示します:
</p>
<div class="example">
<pre class="example">gforth -e &quot;: foo begin pad dup 10 stdin read-file throw dup while \
 type repeat ; foo bye&quot;
</pre></div>

<p>この例では、 入力をそのまま出力にコピーするだけです。 この例を含む非常に単純なパイプラインは以下のようになります:
</p>
<div class="example">
<pre class="example">cat startup.fs |
gforth -e &quot;: foo begin pad dup 80 stdin read-file throw dup while \
 type repeat ; foo bye&quot;|
head
</pre></div>

<span id="index-stderr-and-pipes"></span>
<p>Gforth の <code>stderr</code> 出力に関連するパイプラインは機能しません。
</p>
</div>



</body>
</html>
