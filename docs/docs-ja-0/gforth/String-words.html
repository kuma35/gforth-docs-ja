<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>String words (Gforth マニュアル)</title>

<meta name="description" content="String words (Gforth マニュアル)">
<meta name="keywords" content="String words (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Strings-and-Characters.html" rel="up" title="Strings and Characters">
<link href="_0024tring-words.html" rel="next" title="$tring words">
<link href="String-and-character-literals.html" rel="prev" title="String and character literals">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="String-words">
<div class="header">
<p>
Next: <a href="_0024tring-words.html" accesskey="n" rel="next">$tring words</a>, Previous: <a href="String-and-character-literals.html" accesskey="p" rel="prev">String and Character literals</a>, Up: <a href="Strings-and-Characters.html" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="String-words-1"></span><h4 class="subsection">6.8.4 String words</h4>

<p>Words that are used for memory blocks are also useful for strings, so for
words that move, copy, compare and search strings, see <a href="Memory-Blocks.html">Memory Blocks</a>. For words that display characters and strings, see <a href="Displaying-characters-and-strings.html">Displaying characters and strings</a>.
</p>
<p>The following words work on previously existing strings:
</p>
<span id="index-str_003d-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-str_003d"></span>
<span id="index-str_003d-1"></span>
<div class="format">
<pre class="format"><code>str=</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-equals&rdquo;
</pre></div>

<span id="index-str_003c-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-str_003c"></span>
<span id="index-str_003c-1"></span>
<div class="format">
<pre class="format"><code>str&lt;</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-less-than&rdquo;
</pre></div>

<span id="index-string_002dprefix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-string_002dprefix_003f"></span>
<span id="index-string_002dprefix_003f-1"></span>
<div class="format">
<pre class="format"><code>string-prefix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;string-prefix-question&rdquo;
</pre></div>
<p>Is <var>c-addr2 u2</var> a prefix of <var>c-addr1 u1</var>?
</p>

<span id="index-string_002dsuffix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d1_002e0"></span>
<span id="index-string_002dsuffix_003f"></span>
<span id="index-string_002dsuffix_003f-1"></span>
<div class="format">
<pre class="format"><code>string-suffix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;string-suffix-question&rdquo;
</pre></div>
<p>Is <var>c-addr2 u2</var> a suffix of <var>c-addr1 u1</var>?
</p>

<span id="index-search-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag--_0029-string"></span>
<span id="index-search"></span>
<span id="index-search-1"></span>
<div class="format">
<pre class="format"><code>search</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) string &ldquo;search&rdquo;
</pre></div>
<p>Search the string specified by <i>c-addr1, u1</i> for the string specified by
<i>c-addr2, u2</i>. If <i>flag</i> is true: match was found at <i>c-addr3</i> with
<i>u3</i> characters remaining. If <i>flag</i> is false: no match was found;
<i>c-addr3, u3</i> are equal to <i>c-addr1, u1</i>.
</p>

<span id="index-scan-_0028--c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2--_0029-gforth_002d0_002e2"></span>
<span id="index-scan"></span>
<span id="index-scan-1"></span>
<div class="format">
<pre class="format"><code>scan</code> ( <i>c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;scan&rdquo;
</pre></div>
<p>Skip all characters not equal to c.  The result starts with c or is empty.
<code>Scan</code> is limited to single-byte (ASCII) characters.  Use <code>search</code>
to search for multi-byte characters.
</p>
<span id="index-scan_002dback-_0028--c_002daddr-u1-c-_002d_002d-c_002daddr-u2--_0029-gforth_002d0_002e7"></span>
<span id="index-scan_002dback"></span>
<span id="index-scan_002dback-1"></span>
<div class="format">
<pre class="format"><code>scan-back</code> ( <i>c-addr u1 c &ndash; c-addr u2  </i>) gforth-0.7 &ldquo;scan-back&rdquo;
</pre></div>

<span id="index-skip-_0028--c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2--_0029-gforth_002d0_002e2"></span>
<span id="index-skip"></span>
<span id="index-skip-1"></span>
<div class="format">
<pre class="format"><code>skip</code> ( <i>c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;skip&rdquo;
</pre></div>
<p>Skip all characters equal to c.  The result starts with the first non-c
character, or it is empty.  <code>Scan</code> is limited to single-byte (ASCII)
characters.
</p>
<span id="index-_002dtrailing-_0028--c_005faddr-u1-_002d_002d-c_005faddr-u2--_0029-string"></span>
<span id="index-_002dtrailing"></span>
<span id="index-_002dtrailing-1"></span>
<div class="format">
<pre class="format"><code>-trailing</code> ( <i>c_addr u1 &ndash; c_addr u2  </i>) string &ldquo;dash-trailing&rdquo;
</pre></div>
<p>Adjust the string specified by <i>c-addr, u1</i> to remove all trailing
spaces. <i>u2</i> is the length of the modified string.
</p>

<span id="index-_002fstring-_0028--c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2--_0029-string"></span>
<span id="index-_002fstring"></span>
<span id="index-_002fstring-1"></span>
<div class="format">
<pre class="format"><code>/string</code> ( <i>c-addr1 u1 n &ndash; c-addr2 u2 </i>) string &ldquo;slash-string&rdquo;
</pre></div>
<p>Adjust the string specified by <i>c-addr1, u1</i> to remove <i>n</i> characters
from the start of the string.
</p>
<span id="index-safe_002fstring-_0028--c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2--_0029-gforth_002d1_002e0"></span>
<span id="index-safe_002fstring"></span>
<span id="index-safe_002fstring-1"></span>
<div class="format">
<pre class="format"><code>safe/string</code> ( <i>c-addr1 u1 n &ndash; c-addr2 u2 </i>) gforth-1.0 &ldquo;safe-slash-string&rdquo;
</pre></div>
<p>Adjust the string specified by <i>c-addr1, u1</i> to remove <i>n</i> characters
from the start of the string.  Unlike <code>/string</code>, <code>safe/string</code>
removes at least 0 and at most <i>u1</i> characters.
</p>
<span id="index-cstring_003esstring-_0028--c_002daddr-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e2"></span>
<span id="index-cstring_003esstring"></span>
<span id="index-cstring_003esstring-1"></span>
<div class="format">
<pre class="format"><code>cstring&gt;sstring</code> ( <i>c-addr &ndash; c-addr u  </i>) gforth-0.2 &ldquo;cstring-to-sstring&rdquo;
</pre></div>
<p><i>C-addr</i> is the start address of a zero-terminated string, <i>u</i> is its
length.
</p>


<p>The following words compare case-insensitively for ASCII characters, but
case-sensitively for non-ASCII characters (like in lookup in wordlists).
</p>
<span id="index-capscompare-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-n--_0029-gforth_002d0_002e7"></span>
<span id="index-capscompare"></span>
<span id="index-capscompare-1"></span>
<div class="format">
<pre class="format"><code>capscompare</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; n </i>) gforth-0.7 &ldquo;capscompare&rdquo;
</pre></div>
<p>Compare two strings lexicographically, based on the values of the bytes in
the strings, but comparing ASCII characters case-insensitively, and
non-ASCII characters case-sensitively and without locale-specific collation
order. If they are equal, <i>n</i> is 0; if the first string is smaller, <i>n</i>
is -1; if the first string is larger, <i>n</i> is 1. 
</p>
<span id="index-capsstring_002dprefix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d1_002e0"></span>
<span id="index-capsstring_002dprefix_003f"></span>
<span id="index-capsstring_002dprefix_003f-1"></span>
<div class="format">
<pre class="format"><code>capsstring-prefix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;capsstring-prefix?&rdquo;
</pre></div>
<p>Like <code>string-prefix?</code>, but case-insensitive for ASCII characters: Is
<var>c-addr2 u2</var> a prefix of <var>c-addr1 u1</var>?
</p>

<span id="index-capssearch-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag--_0029-gforth_002d1_002e0"></span>
<span id="index-capssearch"></span>
<span id="index-capssearch-1"></span>
<div class="format">
<pre class="format"><code>capssearch</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) gforth-1.0 &ldquo;capssearch&rdquo;
</pre></div>
<p>Like <code>search</code>, but case-insensitive for ASCII characters: Search for
<i>c-addr2 u2</i> in <i>c-addr1 u1</i>; <i>flag</i> is true if found.
</p>


<p>The following words create or extend strings on the heap:
</p>
<span id="index-s_002b-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e7"></span>
<span id="index-s_002b"></span>
<span id="index-s_002b-1"></span>
<div class="format">
<pre class="format"><code>s+</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;s-plus&rdquo;
</pre></div>
<p><i>c-addr u</i> is a newly <code>allocate</code>d string that contains the
concatenation of <i>c-addr1 u1</i> (first) and <i>c-addr2 u2</i> (second).
</p>

<span id="index-append-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e7"></span>
<span id="index-append"></span>
<span id="index-append-1"></span>
<div class="format">
<pre class="format"><code>append</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;append&rdquo;
</pre></div>
<p><i>C-addr u</i> is the concatenation of <i>c-addr1 u1</i> (first) and <i>c-addr2
u2</i> (second).  <i>c-addr1 u1</i> is an <code>allocate</code>d string, and
<code>append</code> <code>resize</code>s it (possibly moving it to a new address) to
accomodate <i>u</i> characters.
</p>

<span id="index-_003estring_002dexecute-_0028--_002e_002e_002e-xt-_002d_002d-_002e_002e_002e-addr-u--_0029-gforth_002d1_002e0"></span>
<span id="index-_003estring_002dexecute"></span>
<span id="index-_003estring_002dexecute-1"></span>
<div class="format">
<pre class="format"><code>&gt;string-execute</code> ( <i>... xt &ndash; ... addr u  </i>) gforth-1.0 &ldquo;&gt;string-execute&rdquo;
</pre></div>
<p>execute xt while the standard output (<code>type</code>, <code>emit</code>, and
everything that uses them) is redirected to a string.  The resulting string
is addr u, which is in <code>allocate</code>d memory; it is the responsibility of
the caller of <code>&gt;string-execute</code> to <code>free</code> this string.
</p>


<p>One could define <code>s+</code> using <code>&gt;string-execute</code>, as follows:
</p>
<p>: s+ ( c-addr1 u1 c-addr2 u2 &ndash; c-addr u )  [: 2swap type type ;]
&gt;string-execute ;
</p>
<p>For concatenating just two strings <code>&gt;string-execute</code> is inefficient,
but for concatenating many strings <code>&gt;string-execute</code> can be more
efficient.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="_0024tring-words.html">$tring words</a>, Previous: <a href="String-and-character-literals.html">String and Character literals</a>, Up: <a href="Strings-and-Characters.html">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
