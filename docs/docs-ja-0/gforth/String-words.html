<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>String words (Gforth マニュアル)</title>

<meta name="description" content="String words (Gforth マニュアル)">
<meta name="keywords" content="String words (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Strings-and-Characters.html" rel="up" title="Strings and Characters">
<link href="_0024tring-words.html" rel="next" title="$tring words">
<link href="String-and-character-literals.html" rel="prev" title="String and character literals">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="String-words">
<div class="header">
<p>
Next: <a href="_0024tring-words.html" accesskey="n" rel="next">$tring words</a>, Previous: <a href="String-and-character-literals.html" accesskey="p" rel="prev">String and Character literals</a>, Up: <a href="Strings-and-Characters.html" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="String-words-1"></span><h4 class="subsection">6.8.4 String words</h4>

<p>メモリ・ブロックに使用されるワードは文字列(string)にも役立つため、 文字列(string)の移動やコピーや比較や検索を行うワードについては、
<a href="Memory-Blocks.html">Memory Blocks</a> を参照してください。 文字や文字列を表示するワードについては、 see <a href="Displaying-characters-and-strings.html">Displaying characters and strings</a> を参照してください。
</p>
<p>以下のワード群は、 既に存在している文字列(strings)に対して機能します:
</p>
<span id="index-str_003d-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-str_003d"></span>
<span id="index-str_003d-1"></span>
<div class="format">
<pre class="format"><code>str=</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-equals&rdquo;
</pre></div>

<span id="index-str_003c-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-str_003c"></span>
<span id="index-str_003c-1"></span>
<div class="format">
<pre class="format"><code>str&lt;</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-less-than&rdquo;
</pre></div>

<span id="index-string_002dprefix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d0_002e6"></span>
<span id="index-string_002dprefix_003f"></span>
<span id="index-string_002dprefix_003f-1"></span>
<div class="format">
<pre class="format"><code>string-prefix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;string-prefix-question&rdquo;
</pre></div>
<p><var>c-addr2 u2</var> が <var>c-addr1 u1</var> の接頭辞部分と合致しますか？
</p>

<span id="index-string_002dsuffix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d1_002e0"></span>
<span id="index-string_002dsuffix_003f"></span>
<span id="index-string_002dsuffix_003f-1"></span>
<div class="format">
<pre class="format"><code>string-suffix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;string-suffix-question&rdquo;
</pre></div>
<p><var>c-addr2 u2</var> が <var>c-addr1 u1</var> の接尾辞部分と合致しますか？
</p>

<span id="index-search-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag--_0029-string"></span>
<span id="index-search"></span>
<span id="index-search-1"></span>
<div class="format">
<pre class="format"><code>search</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) string &ldquo;search&rdquo;
</pre></div>
<p><i>c-addr1, u1</i> で指定の文字列内で <i>c-addr2, u2</i> で指定の字列を検索します。  <i>flag</i> が true
の場合:
<i>c-addr1</i> からの見つかった位置を <i>c-addr3</i> に、 <i>c-addr2, u2</i>
で指定の字列と同じ文字列を含んだそれ以降の文字数を <i>u3</i> に返します(訳注: s&quot; GNU gforth マニュアル&quot; s&quot; ニュア&quot;
search drop .&quot; [&quot; type .&quot; ]&quot; [ニュアル] ok )。  <i>flag</i> が false の場合:
一致するものが見つかりませんでした。 <i>c-addr3, u3</i> は <i>c-addr1, u1</i> と同じです。
</p>

<span id="index-scan-_0028--c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2--_0029-gforth_002d0_002e2"></span>
<span id="index-scan"></span>
<span id="index-scan-1"></span>
<div class="format">
<pre class="format"><code>scan</code> ( <i>c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;scan&rdquo;
</pre></div>
<p>c に等しくないすべての文字をスキップします。 結果は c で始まる(c-addr2 u2)か空(empty; c-addr2+u2, 0)です。
<code>Scan</code> はシングルバイト文字(ASCII)に限定されます。 マルチバイト文字を検索するには、 <code>search</code> を使用します。
</p>
<span id="index-scan_002dback-_0028--c_002daddr-u1-c-_002d_002d-c_002daddr-u2--_0029-gforth_002d0_002e7"></span>
<span id="index-scan_002dback"></span>
<span id="index-scan_002dback-1"></span>
<div class="format">
<pre class="format"><code>scan-back</code> ( <i>c-addr u1 c &ndash; c-addr u2  </i>) gforth-0.7 &ldquo;scan-back&rdquo;
</pre></div>

<span id="index-skip-_0028--c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2--_0029-gforth_002d0_002e2"></span>
<span id="index-skip"></span>
<span id="index-skip-1"></span>
<div class="format">
<pre class="format"><code>skip</code> ( <i>c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;skip&rdquo;
</pre></div>
<p>c に等しいすべての文字をスキップします。  結果は最初の非 C 文字で始まる(アドレス、長さ)か、 空(文字列の長さ0)になります。
<code>skip</code> はシングルバイト文字(ASCII)に限定されます。
</p>
<span id="index-_002dtrailing-_0028--c_005faddr-u1-_002d_002d-c_005faddr-u2--_0029-string"></span>
<span id="index-_002dtrailing"></span>
<span id="index-_002dtrailing-1"></span>
<div class="format">
<pre class="format"><code>-trailing</code> ( <i>c_addr u1 &ndash; c_addr u2  </i>) string &ldquo;dash-trailing&rdquo;
</pre></div>
<p><i>c-addr, u1</i> で指定された文字列の末尾をトリムします(末尾のスペースをすべて削除します)。 <i>u2</i> は変更後の文字列の長さです。
</p>

<span id="index-_002fstring-_0028--c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2--_0029-string"></span>
<span id="index-_002fstring"></span>
<span id="index-_002fstring-1"></span>
<div class="format">
<pre class="format"><code>/string</code> ( <i>c-addr1 u1 n &ndash; c-addr2 u2 </i>) string &ldquo;slash-string&rdquo;
</pre></div>
<p><i>c-addr1, u1</i> で指定された文字列の先頭から <i>n</i> 文字削除します(訳注: c-addr1+n, u1-n するだけっぽい…)。
</p>
<span id="index-safe_002fstring-_0028--c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2--_0029-gforth_002d1_002e0"></span>
<span id="index-safe_002fstring"></span>
<span id="index-safe_002fstring-1"></span>
<div class="format">
<pre class="format"><code>safe/string</code> ( <i>c-addr1 u1 n &ndash; c-addr2 u2 </i>) gforth-1.0 &ldquo;safe-slash-string&rdquo;
</pre></div>
<p><i>c-addr1, u1</i> で指定された文字列の先頭から <i>n</i> 文字を削除します。 <code>/string</code>
とは異なり、<code>safe/string</code> は少なくとも 0 文字、 最大で <i>u1</i> 文字を削除します。
</p>
<span id="index-cstring_003esstring-_0028--c_002daddr-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e2"></span>
<span id="index-cstring_003esstring"></span>
<span id="index-cstring_003esstring-1"></span>
<div class="format">
<pre class="format"><code>cstring&gt;sstring</code> ( <i>c-addr &ndash; c-addr u  </i>) gforth-0.2 &ldquo;cstring-to-sstring&rdquo;
</pre></div>
<p><i>C-addr</i> はゼロで終わる文字列の開始アドレス、 <i>u</i> はその長さです。
</p>


<p>以下のワード群は、 ASCII 文字については大文字と小文字を区別せずに比較しますが、 (ワードリストの検索のような)非 ASCII
文字については大文字と小文字を区別します 。
</p>
<span id="index-capscompare-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-n--_0029-gforth_002d0_002e7"></span>
<span id="index-capscompare"></span>
<span id="index-capscompare-1"></span>
<div class="format">
<pre class="format"><code>capscompare</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; n </i>) gforth-0.7 &ldquo;capscompare&rdquo;
</pre></div>
<p>文字列内のバイトの値に基づいて、 2 つの文字列(string)を辞書順(lexicographically)に比較します。ただし、 ASCII
文字は大文字と小文字を区別せずに比較し、 非 ASCII 文字は大文字と小文字を区別して、 かつ、 ロケール固有の照合順序を使用せずに比較します。
それらが等しい場合 <i>n</i> は 0 です。 最初の文字列が小さい場合 <i>n</i> は -1 です。 最初の文字列が大きい場合<i>n</i> は 1
です。 
</p>
<span id="index-capsstring_002dprefix_003f-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f--_0029-gforth_002d1_002e0"></span>
<span id="index-capsstring_002dprefix_003f"></span>
<span id="index-capsstring_002dprefix_003f-1"></span>
<div class="format">
<pre class="format"><code>capsstring-prefix?</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;capsstring-prefix?&rdquo;
</pre></div>
<p><code>string-prefix?</code> と似ていますが、 ASCII 文字の大文字と小文字は区別されません: <var>c-addr2 u2</var> は
<var>c-addr1 u1</var> の接頭辞か？
</p>

<span id="index-capssearch-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag--_0029-gforth_002d1_002e0"></span>
<span id="index-capssearch"></span>
<span id="index-capssearch-1"></span>
<div class="format">
<pre class="format"><code>capssearch</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) gforth-1.0 &ldquo;capssearch&rdquo;
</pre></div>
<p><code>search</code> と似ていますが、 ASCII 文字の大文字と小文字は区別されません: <i>c-addr1 u1</i> 内で
<i>c-addr2 u2</i> を検索します。 見つかった場合 <i>flag</i> は true になります。
</p>


<p>以下のワード群は、 ヒープに文字列(string)を作成、 またはヒープの文字列(string)を拡張します。
</p>
<span id="index-s_002b-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e7"></span>
<span id="index-s_002b"></span>
<span id="index-s_002b-1"></span>
<div class="format">
<pre class="format"><code>s+</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;s-plus&rdquo;
</pre></div>
<p><i>c-addr u</i> は、<i>c-addr1 u1</i> (最初) と <i>c-addr2 u2</i> (2 番目) を連結したのを含む、 新しく
<code>allocate</code> された文字列です。
</p>

<span id="index-append-_0028--c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e7"></span>
<span id="index-append"></span>
<span id="index-append-1"></span>
<div class="format">
<pre class="format"><code>append</code> ( <i>c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;append&rdquo;
</pre></div>
<p><i>C-addr u</i> は、<i>c-addr1 u1</i> (最初) と <i>c-addr2 u2</i> (2 番目) を連結したものです。
<i>c-addr1 u1</i> は <code>allocate</code> された文字列であり、 <i>u</i>
文字の領域に対応するために(可能なら)サイズ変更(resize)して <i>c-addr2 u2</i>
の文字列を追加(append)します(サイズ変更できなくて、新しいアドレスに移動する可能性があります)。
</p>

<span id="index-_003estring_002dexecute-_0028--_002e_002e_002e-xt-_002d_002d-_002e_002e_002e-addr-u--_0029-gforth_002d1_002e0"></span>
<span id="index-_003estring_002dexecute"></span>
<span id="index-_003estring_002dexecute-1"></span>
<div class="format">
<pre class="format"><code>&gt;string-execute</code> ( <i>... xt &ndash; ... addr u  </i>) gforth-1.0 &ldquo;&gt;string-execute&rdquo;
</pre></div>
<p>xt を実行(execute)すると、 標準出力 (<code>type</code> や <code>emit</code> やそれらを使用するすべてのもの)
を文字列にリダイレクトします。 結果の文字列は addr u で、これは割り当てられた(<code>allocate</code>)メモリ内にあります。
この文字列を開放(<code>free</code>)するのは、 <code>&gt;string-execute</code> の呼び出し元の責任です。
</p>


<p>以下のようにして、<code>&gt;string-execute</code> を使用して <code>s+</code> を定義できます:
</p>
<p>: s+ ( c-addr1 u1 c-addr2 u2 &ndash; c-addr u )  [: 2swap type type ;]
&gt;string-execute ;
</p>
<p>2 つの文字列だけを連結する場合、 <code>&gt;string-execute</code> は効率的ではありませんが、 多くの文字列を連結する場合は、
<code>&gt;string-execute</code> の方が効率的です。
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="_0024tring-words.html">$tring words</a>, Previous: <a href="String-and-character-literals.html">String and Character literals</a>, Up: <a href="Strings-and-Characters.html">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
