<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Header fields (Gforth マニュアル)</title>

<meta name="description" content="Header fields (Gforth マニュアル)">
<meta name="keywords" content="Header fields (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Carnal-words.html" rel="up" title="Carnal words">
<link href="Header-methods.html" rel="next" title="Header methods">
<link href="Carnal-words.html" rel="prev" title="Carnal words">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="Header-fields">
<div class="header">
<p>
Next: <a href="Header-methods.html" accesskey="n" rel="next">Header methods</a>, Previous: <a href="Carnal-words.html" accesskey="p" rel="prev">Carnal words</a>, Up: <a href="Carnal-words.html" accesskey="u" rel="up">Carnal words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Header-fields-1"></span><h4 class="subsection">6.30.1 Header fields</h4>
<span id="index-header-fields"></span>

<p>Gforth 1.0 では、 新しいワード・ヘッダー・レイアウトに切り替えられました。  詳細な説明については、 Bernd Paysan and
M. Anton Ertl.
<cite><a href="http://www.euroforth.org/ef19/papers/paysan.pdf">The new Gforth
header</a></cite> を参照してください。  この論文の公開以後に、xt と nt
は本体(body)のようにパラメーター・フィールドを指すように変更されましたが、 それ以外は依然としてこの文献が最新です。
</p>
<p>このセクションでは、 データ構造とそれにアクセスするために使用されるワードについてのみ説明します。  ヘッダーには以下のフィールドがあります:
</p>
<div class="example">
<pre class="example">name
&gt;f+c
&gt;link
&gt;cfa
&gt;namehm
&gt;body
</pre></div>

<p>現在、 Gforth には xt/nt/body から各フィールドに到達するために上に示した名前がありますが、 標準の <code>&gt;body</code>
を除けば、 これらは定着した Gforth ワードではありません。  これらの代わりアクセス用ワードを提供しています。
注意:文書化されたアクセス・ワードはヘッダー・レイアウトの再編成後も生き残ることに注意してください。
</p>
<p>ワードの中には nt を期待するものもあれば、 xt を期待するものもあります。  nt と xt が両方ともワードの本体を指しているとすると、
その違いは何でしょうか？ ほとんどのワードでは、xt と nt は同一ヘッダーを使用するので、 nt=xt となり、 同じ場所を指します。  ただし、
同義語(synonym)(see <a href="Aliases.html">Aliases</a>)では違いがあります。 以下の例で考えてみましょう
</p>
<div class="example">
<pre class="example">create x
synonym y x
synonym z y
</pre></div>

<p>この場合、<code>z</code> の nt は <code>z</code> の本体を指し、 <code>z</code> の xt は <code>x</code> の本体を指します。
<code>alias</code> または <code>forward</code> (see <a href="Forward.html">Forward</a>) で定義されたワードも、 nt と異なる xt
を持ちます。
</p>
<p>名前フィールドは可変長で、 <code>name&gt;string</code> (see <a href="Name-token.html">Name token</a>) でアクセスします。
</p>
<p><code>&gt;f+c</code> フィールドには、フラグと名前の長さ(カウント)が含まれます。 <code>name&gt;string</code> でカウントを読み取り、
以下でフラグを読み取ります。
</p>
<span id="index-compile_002donly_003f-_0028--nt-_002d_002d-flag--_0029-gforth_002d1_002e0"></span>
<span id="index-compile_002donly_003f"></span>
<span id="index-compile_002donly_003f-1"></span>
<div class="format">
<pre class="format"><code>compile-only?</code> ( <i>nt &ndash; flag  </i>) gforth-1.0 &ldquo;compile-only?&rdquo;
</pre></div>
<p><i>nt</i> がコンパイル専用(compile-only)としてマークされている場合は true 。
</p>


<p><code>&gt;link</code> フィールドには、 同じワードリスト内の前のワードへのリンクが含まれます。  <code>name&gt;link</code>
(see <a href="Name-token.html">Name token</a>) で読み取ることができます。
</p>
<p>name と <code>&gt;f+c</code> と <code>&gt;link</code> フィールドは <code>noname</code> ワードには存在しませんが、 それでも
<code>name&gt;string</code> と <code>name&gt;link</code> は機能し、 <code>name&gt;string</code> は 0 0 を返し、
<code>name&gt;link</code> は 0 を返します。
</p>
<p><code>&gt;cfa</code> フィールド(別名 コード・フィールド) には、 ワードを <code>execute</code>
するために使用されるコード・アドレスが含まれます。  <code>&gt;code-address</code> で読み取り、 <code>code-address!</code>
(see <a href="Threading-Words.html">Threading Words</a>) で書き込むことができます。
</p>
<p><code>&gt;namehm</code> フィールドには、 後述するするヘッダー・メソッド・テーブルのアドレスが含まれます。  これにアクセスするには、
ヘッダー・メソッド (see <a href="Header-methods.html">Header methods</a>) を実行するか、または、 ヘッダー・メソッドにアクセスします。
</p>
<p><code>&gt;body</code> (別名 パラメーター・フィールド)には、 ワードの種類に固有のデータまたはスレッド化コードが含まれます。
その長さはワードの種類によって異なります。  たとえば、 <code>constant</code> の場合、 定数の値を含むセルが含まれます。
<code>&gt;body</code> (see <a href="CREATE_002e_002eDOES_003e-details.html">The gory details of <code>CREATE..DOES&gt;</code></a>) を通じてアクセスできますが、 これは標準の
<code>create</code> で定義したワードのみです。
</p>
</div>



</body>
</html>
