<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright © 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>core-idef (Gforth マニュアル)</title>

<meta name="description" content="core-idef (Gforth マニュアル)">
<meta name="keywords" content="core-idef (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-Core-Words.html" rel="up" title="The Core Words">
<link href="core_002dambcond.html" rel="next" title="core-ambcond">
<link href="The-Core-Words.html" rel="prev" title="The Core Words">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="core_002didef">
<div class="nav-panel">
<p>
Next: <a href="core_002dambcond.html" accesskey="n" rel="next">Ambiguous conditions</a>, Previous: <a href="The-Core-Words.html" accesskey="p" rel="prev">The Core Words</a>, Up: <a href="The-Core-Words.html" accesskey="u" rel="up">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Shi-Zhuang-Mei-opusiyon_0028Implementation-Defined-Options_003bidef_0029"><span>9.1.1 実装毎オプション(Implementation Defined Options;idef)<a class="copiable-link" href="#Shi-Zhuang-Mei-opusiyon_0028Implementation-Defined-Options_003bidef_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-core-words_002c-implementation_002ddefined-options"></a>
<a class="index-entry-id" id="index-implementation_002ddefined-options_002c-core-words"></a>


<dl class="table">
<dt><a class="index-entry-id" id="index-aligned-addresses"></a>
<a id="index-cell_002daligned-addresses"></a><span><i class="i">セル単位に整列されたアドレス:</i><a class="copiable-link" href="#index-cell_002daligned-addresses"> &para;</a></span></dt>
<dd><p>プロセッサ依存です。 Gforth の整列(alignment)ワードは自然な整列(natural alignment)を実行します(たとえば、 サイズ
8 のデータに対して整列されたアドレスは 8 で割り切れます)。 通常、 非整列アクセス(unaligned accesses)では <code class="code">-23
THROW</code> が発生します。
</p>
</dd>
<dt><a class="index-entry-id" id="index-non_002dgraphic-characters-and-EMIT"></a>
<a id="index-EMIT-and-non_002dgraphic-characters"></a><span><i class="i"><code class="code">EMIT</code> と非表示文字:</i><a class="copiable-link" href="#index-EMIT-and-non_002dgraphic-characters"> &para;</a></span></dt>
<dd><p>文字(character)は C 言語のライブラリ関数(実際にはマクロ) <code class="code">putc</code> を使用して出力されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-editing-in-ACCEPT-and-EXPECT"></a>
<a class="index-entry-id" id="index-ACCEPT_002c-editing"></a>
<a class="index-entry-id" id="index-EXPECT_002c-editing"></a>
<a id="index-character-editing-of-ACCEPT-and-EXPECT"></a><span><i class="i"><code class="code">ACCEPT</code> と <code class="code">EXPECT</code> の文字編集:</i><a class="copiable-link" href="#index-character-editing-of-ACCEPT-and-EXPECT"> &para;</a></span></dt>
<dd><p>これは、 Emacs のようなキー・バインディングを備えた GNU readline ライブラリ(see <a data-manual="readline" href="https://tiswww.cwru.edu/php/chet/readline/readline.html#Readline-Interaction">Command Line Editing</a> in <cite class="cite">The GNU Readline
Library</cite>)をモデルにしています。 <kbd class="kbd">Tab</kbd> を入力するたびに
(すべての補完に共通のプレフィックスを生成するのではなく)完全なワード語補完を生成するという点で少し異なります。 See <a class="xref" href="Command_002dline-editing.html">Command-line editing</a>
</p>
</dd>
<dt><a id="index-character-set"></a><span><i class="i">文字セット:</i><a class="copiable-link" href="#index-character-set"> &para;</a></span></dt>
<dd><p>あなたのコンピュータと表示デバイスの文字セット。 Gforth は 8 ビットクリーンです(ただし、
システム内の他のコンポーネントが問題を引き起こす可能性があります)。
</p>
</dd>
<dt><a id="index-character_002daligned-address-requirements"></a><span><i class="i">文字単位に整列されたアドレスの要件:</i><a class="copiable-link" href="#index-character_002daligned-address-requirements"> &para;</a></span></dt>
<dd><p>インストールに依存します。 現在、 文字は C言語の <code class="code">unsigned char</code> で表されます。 (リクエストへのコメントですけども、
)将来的には <code class="code">wchar_t</code> に切り替える可能性があります。
</p>
</dd>
<dt><a class="index-entry-id" id="index-case_002dsensitivity-for-name-lookup"></a>
<a class="index-entry-id" id="index-name-lookup_002c-case_002dsensitivity"></a>
<a class="index-entry-id" id="index-locale-and-case_002dsensitivity"></a>
<a id="index-character_002dset-extensions-and-matching-of-names"></a><span><i class="i">文字セット拡張と名前の照合:</i><a class="copiable-link" href="#index-character_002dset-extensions-and-matching-of-names"> &para;</a></span></dt>
<dd><p>ASCII NUL 文字を除く任意の文字を名前に使用できます。 照合では大文字と小文字が区別されません(<code class="code">TABLE</code> を除く)。 照合は C
言語ライブラリ関数 <code class="code">strncasecmp</code> を使用して実行されますが、 その関数はおそらくロケールの影響を受けます。
たとえば、<code class="code">C</code> ロケールではアクセントとウムラウトが認識されないため、 そのロケールでは大文字と小文字が区別されて照合されます。
移植性の理由から、 <code class="code">C</code> ロケールで動作するようにプログラムを作成することが最善です。 そうすれば、 ポーランド人のプログラマ(ISO
Latin-2 でエンコードされた文字を含むワードを使用する可能性がある)と、 フランスのプログラマ(ISO
Latin-1)が作成したライブラリを同じプログラム内で使用できます(もちろん、 <code class="code">WORDS</code>
は一部のワードに対して愉快な結果を生成します(どのワードでそうなるかは、 使用しているフォントによって異なります))。 また、
あなたのご希望のロケールが他のオペレーティング・システムでは利用できない場合もあります。 Unicode
がいつかこれらの問題を解決してくれることを願っています。
</p>
</dd>
<dt><a class="index-entry-id" id="index-control-characters-as-delimiters"></a>
<a id="index-space-delimiters"></a><span><i class="i">制御文字がスペース区切り文字と一致する条件:</i><a class="copiable-link" href="#index-space-delimiters"> &para;</a></span></dt>
<dd><p><code class="code">word</code> がスペース文字を区切り文字として使用して呼び出された場合、 すべての空白文字(C 言語マクロ <code class="code">isspace()</code>
で識別される)が区切り文字になります。 一方、 <code class="code">parse</code> はスペースを他の区切り文字と同様に扱います。
<code class="code">parse-name</code> はデフォルトで外部インタープリター (別名テキスト・インタープリター) によって使用され、
すべての空白文字を区切り文字として扱います。
</p>
</dd>
<dt><a id="index-control_002dflow-stack_002c-format"></a><span><i class="i">制御フロースタックの形式:</i><a class="copiable-link" href="#index-control_002dflow-stack_002c-format"> &para;</a></span></dt>
<dd><p>データ・スタックは制御フロー・スタックとして使用されます。 制御フロー・スタック項目のセル単位でのサイズは、 constant
<code class="code">cs-item-size</code> によって与えられます。 この記事の執筆時点では、 制御フロー・スタック項目はローカル変数リスト(3番目)、
コード内のアドレス(2 番目)、 アイテムを識別するためのタグ(TOS) で構成されています。 タグとして次のタグが使用されています:
<code class="code">defstart</code>, <code class="code">live-orig</code>, <code class="code">dead-orig</code>, <code class="code">dest</code>,
<code class="code">do-dest</code>, <code class="code">scopestart</code>
</p>
</dd>
<dt><a id="index-digits-_003e-35"></a><span><i class="i">35を超える「数字」の変換</i><a class="copiable-link" href="#index-digits-_003e-35"> &para;</a></span></dt>
<dd><p>文字 <code class="code">[\]^_'</code> は、 10 進数値で 36〜41 の「数字」として解釈されます(訳注: 基数による)。
それより大きな「数字」の多くは(直接)入力する方法がありません。
</p>
</dd>
<dt><a class="index-entry-id" id="index-ACCEPT_002c-display-after-end-of-input"></a>
<a id="index-EXPECT_002c-display-after-end-of-input"></a><span><i class="i"><code class="code">ACCEPT</code> および <code class="code">EXPECT</code> で入力が終了した後の表示:</i><a class="copiable-link" href="#index-EXPECT_002c-display-after-end-of-input"> &para;</a></span></dt>
<dd><p>入力した文字列の末尾にカーソルが移動します。  <kbd class="kbd">Return</kbd> キーを使用して入力を終了する場合は、 スペースが入力されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-ABORT_0022_002c-exception-abort-sequence"></a>
<a id="index-exception-abort-sequence-of-ABORT_0022"></a><span><i class="i"><code class="code">ABORT&quot;</code> の 例外中止(exception abort)シーケンス:</i><a class="copiable-link" href="#index-exception-abort-sequence-of-ABORT_0022"> &para;</a></span></dt>
<dd><p>エラー文字列は変数 <code class="code">&quot;error</code> に保存され、 <code class="code">-2 throw</code> が実行されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-line-terminator-on-input"></a>
<a class="index-entry-id" id="index-newline-character-on-input"></a>
<a id="index-input-line-terminator"></a><span><i class="i">入力行終端文字:</i><a class="copiable-link" href="#index-input-line-terminator"> &para;</a></span></dt>
<dd><p>対話入力の場合は、 <kbd class="kbd">C-m</kbd> (CR) および <kbd class="kbd">C-j</kbd> (LF) で行を終了します。 通常、 これらの文字は、
<kbd class="kbd">Enter</kbd> キーまたは <kbd class="kbd">Return</kbd> キーを入力したときに生成されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-counted-string_002c-maximum-size"></a>
<a id="index-maximum-size-of-a-counted-string"></a><span><i class="i">カウンタ付き文字列の最大サイズ:</i><a class="copiable-link" href="#index-maximum-size-of-a-counted-string"> &para;</a></span></dt>
<dd><p><code class="code">s&quot; /counted-string&quot; environment? drop .</code> で得られます。 現在、 すべてのプラットフォームで 255
文字ですが、 これは変更される可能性があります。
</p>
</dd>
<dt><a class="index-entry-id" id="index-parsed-string_002c-maximum-size"></a>
<a id="index-maximum-size-of-a-parsed-string"></a><span><i class="i">パースされる字列の最大サイズ:</i><a class="copiable-link" href="#index-maximum-size-of-a-parsed-string"> &para;</a></span></dt>
<dd><p>constant <code class="code">/line</code> によって与えられます。 現在 255 文字です。
</p>
</dd>
<dt><a class="index-entry-id" id="index-name_002c-maximum-length"></a>
<a id="index-maximum-size-of-a-definition-name_002c-in-characters"></a><span><i class="i">定義名の最大サイズ(文字単位):</i><a class="copiable-link" href="#index-maximum-size-of-a-definition-name_002c-in-characters"> &para;</a></span></dt>
<dd><p>MAX-U / 8 (<code class="code">s&quot; max-u&quot; environment? drop 8 u/ u.</code>)
</p>
</dd>
<dt><a class="index-entry-id" id="index-ENVIRONMENT_003f-string-length_002c-maximum"></a>
<a id="index-maximum-string-length-for-ENVIRONMENT_003f_002c-in-characters"></a><span><i class="i"><code class="code">ENVIRONMENT?</code> の最大文字列長(文字単位):</i><a class="copiable-link" href="#index-maximum-string-length-for-ENVIRONMENT_003f_002c-in-characters"> &para;</a></span></dt>
<dd><p>MAX-U / 8 (<code class="code">s&quot; max-u&quot; environment? drop 8 u/ u.</code>)
</p>
</dd>
<dt><a id="index-user-input-device_002c-method-of-selecting"></a><span><i class="i">ユーザー入力デバイスを選択する方法:</i><a class="copiable-link" href="#index-user-input-device_002c-method-of-selecting"> &para;</a></span></dt>
<dd><p>ユーザー入力デバイスは標準入力です。 現時点では、 Gforth 内から変更する方法はありません。 ただし、 入力は通常、Gforth
を起動するOSコマンド・ラインでリダイレクトできます。
</p>
</dd>
<dt><a id="index-user-output-device_002c-method-of-selecting"></a><span><i class="i">ユーザー出力デバイスを選択する方法:</i><a class="copiable-link" href="#index-user-output-device_002c-method-of-selecting"> &para;</a></span></dt>
<dd><p><code class="code">EMIT</code> および <code class="code">TYPE</code> は、値 <code class="code">outfile-id</code> (デフォルトでは <code class="code">stdout</code>)
に格納されているファイル ID に出力します。 Gforth は、ユーザー出力デバイスが端末の場合はバッファなしの出力を使用します。 それ以外の場合、
出力はバッファリングされます。
</p>
</dd>
<dt><i class="i">ディクショナリーのコンパイル方法:</i></dt>
<dd><p>わざわざここで文書化する必要ある？(What are we expected to document here?)
</p>
</dd>
<dt><a class="index-entry-id" id="index-address-unit_002c-size-in-bits"></a>
<a id="index-number-of-bits-in-one-address-unit"></a><span><i class="i">アドレス単位 1 つ分のビット数:</i><a class="copiable-link" href="#index-number-of-bits-in-one-address-unit"> &para;</a></span></dt>
<dd><p><code class="code">s&quot; address-units-bits&quot; environment? drop .</code> で得られます。 現在はすべてのプラットフォームで 8
</p>
</dd>
<dt><a id="index-number-representation-and-arithmetic"></a><span><i class="i">数値の表現と算術演算:</i><a class="copiable-link" href="#index-number-representation-and-arithmetic"> &para;</a></span></dt>
<dd><p>プロセッサに依存します。 現在のすべてのプラットフォームでは 2 進数は 2 の補数表現です。
</p>
</dd>
<dt><a class="index-entry-id" id="index-integer-types_002c-ranges"></a>
<a id="index-ranges-for-integer-types"></a><span><i class="i">整数型の範囲:</i><a class="copiable-link" href="#index-ranges-for-integer-types"> &para;</a></span></dt>
<dd><p>インストールに依存します。  <code class="code">MAX-N</code> と <code class="code">MAX-U</code> と <code class="code">MAX-D</code> と <code class="code">MAX-UD</code>
の環境クエリ(environmental queries)を作成します。 符号なし(および正)型の下限は 0 です。 2 の補数マシンおよび 1
の補数マシンの符号付き型の下限は、 その上限に 1 を加算することで計算できます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-data_002dspace_002c-read_002donly-regions"></a>
<a id="index-read_002donly-data-space-regions"></a><span><i class="i">読み取り専用データ空間領域:</i><a class="copiable-link" href="#index-read_002donly-data-space-regions"> &para;</a></span></dt>
<dd><p>Forth データ空間全体が書き込み可能です。
</p>
</dd>
<dt><a class="index-entry-id" id="index-WORD-buffer-size"></a>
<a id="index-size-of-buffer-at-WORD"></a><span><i class="i"><code class="code">WORD</code> のバッファのサイズ:</i><a class="copiable-link" href="#index-size-of-buffer-at-WORD"> &para;</a></span></dt>
<dd><p><code class="code">PAD HERE - .</code> で得られます。 32 ビット マシンでは 104 文字。 バッファは、 数値表示出力文字列(pictured
numeric output string)と共有されます。  <code class="code">PAD</code> の上書きが許容される場合、
そのサイズは残りの辞書スペースと同じになりますが、 実用になるのはカウンタ付き文字列に収まる範囲程度です。
</p>
</dd>
<dt><a id="index-cell-size"></a><span><i class="i">アドレス単位での 1 セルのサイズ:</i><a class="copiable-link" href="#index-cell-size"> &para;</a></span></dt>
<dd><p><code class="code">1 cells .</code> で得られます。
</p>
</dd>
<dt><a id="index-char-size"></a><span><i class="i">アドレス単位での 1 文字のサイズ:</i><a class="copiable-link" href="#index-char-size"> &para;</a></span></dt>
<dd><p><code class="code">1 chars .</code> で得られます。 現在のすべてのプラットフォームで 1
</p>
</dd>
<dt><a class="index-entry-id" id="index-terminal-buffer_002c-size"></a>
<a id="index-size-of-the-keyboard-terminal-buffer"></a><span><i class="i">キーボード・ターミナル・バッファのサイズ:</i><a class="copiable-link" href="#index-size-of-the-keyboard-terminal-buffer"> &para;</a></span></dt>
<dd><p>さまざまです。  <code class="code">lp@ tib - .</code> を使用して、 特定の時点でのサイズを確認できます。 これは、
現在のファイルを含むファイルのローカル変数スタックおよび TIB と共有されます。 コマンド・ライン・オプション <code class="code">-l</code> を使用して、
Gforth 起動時に TIB とローカル変数スタックのスペースの量を変更できます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-pictured-numeric-output-buffer_002c-size"></a>
<a id="index-size-of-the-pictured-numeric-output-buffer"></a><span><i class="i">表示数値出力(pictured numeric output)バッファのサイズ:</i><a class="copiable-link" href="#index-size-of-the-pictured-numeric-output-buffer"> &para;</a></span></dt>
<dd><p><code class="code">PAD HERE - .</code> で得られます。 32 ビット マシンでは 104 文字。 バッファは <code class="code">WORD</code> と共有されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-PAD-size"></a>
<a id="index-size-of-the-scratch-area-returned-by-PAD"></a><span><i class="i"><code class="code">PAD</code> によって返されるスクラッチ領域のサイズ:</i><a class="copiable-link" href="#index-size-of-the-scratch-area-returned-by-PAD"> &para;</a></span></dt>
<dd><p>ディクショナリー・スペースの残りまるごと。 <code class="code">unused pad here - - .</code> で得られます。
</p>
</dd>
<dt><a id="index-case_002dsensitivity-characteristics"></a><span><i class="i">システムが英大文字・小文字を区別するか(case-sensitivity characteristics):</i><a class="copiable-link" href="#index-case_002dsensitivity-characteristics"> &para;</a></span></dt>
<dd><p>ディクショナリーの検索では大文字と小文字が区別されません(<code class="code">TABLE</code> を除く)。 ただし、 上記 <i class="i">character-set
extensions</i> で説明したように、 非 ASCII 文字のマッチングは使用しているロケールによって決まります。 デフォルトの <code class="code">C</code>
ロケールでは、 すべての非 ASCII 文字は大文字と小文字を区別して照合されます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-prompt"></a>
<a id="index-system-prompt"></a><span><i class="i">システムのプロンプト:</i><a class="copiable-link" href="#index-system-prompt"> &para;</a></span></dt>
<dd><p>インタープリター状態では <code class="code"> ok</code> で、 コンパイル状態では <code class="code"> compiled</code> です。
</p>
</dd>
<dt><a id="index-division-rounding"></a><span><i class="i">除算の四捨五入(division rounding):</i><a class="copiable-link" href="#index-division-rounding"> &para;</a></span></dt>
<dd><p>通常の除算ワード <code class="code">/ mod /mod */ */mod</code> は、フロア除算(floored division)を実行します (Gforth
のデフォルトのインストールを使用の場合)。  <code class="code">s&quot; floored&quot; environment? drop .</code> でこれを確認できます。
特定の除算の四捨五入が必要なプログラムを作成する場合は、 移植性を高めるために <code class="code">fm/mod</code> または <code class="code">sm/rem</code>
を使用するのが最適です。
</p>
</dd>
<dt><a id="index-STATE-values"></a><span><i class="i">true の場合の <code class="code">STATE</code> の値:</i><a class="copiable-link" href="#index-STATE-values"> &para;</a></span></dt>
<dd><p>-1.
</p>
</dd>
<dt><i class="i">算術オーバーフロー後に返される値:</i></dt>
<dd><p>2 の補数マシンでは、 1倍長の場合は 2**bits-per-cell 、 2倍長の場合はセルあたり 4**bits-per-cell
を法として演算(modulo)が実行されます(符号付き型では適切なマッピングを使用)。 ゼロによる除算は通常、 <code class="code">-55 throw</code>
(Floating-point unidentified fault) または <code class="code">-10 throw</code> (divide by zero)
を引き起こします。  整数除算のオーバーフローにより、 <code class="code">-55 throw</code> や <code class="code">-10 throw</code> 、 または
<code class="code">-11 throw</code> が発生する可能性があります。 <code class="code">gforth-fast</code> エンジン(OSコマンドラインから
<code class="code">gforth-fast</code> で起動)の除算オーバーフローやゼロ除算では、 例外が生成されずに偽の結果が返される可能性があります。
</p>
</dd>
<dt><a id="index-DOES_003e_002c-visibility-of-current-definition"></a><span><i class="i">現在の定義(current definition)が <code class="code">DOES&gt;</code> の後ろで見つかる(可視)かどうか:</i><a class="copiable-link" href="#index-DOES_003e_002c-visibility-of-current-definition"> &para;</a></span></dt>
<dd><p>いいえ(No)。
</p>
</dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="core_002dambcond.html">Ambiguous conditions</a>, Previous: <a href="The-Core-Words.html">The Core Words</a>, Up: <a href="The-Core-Words.html">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
