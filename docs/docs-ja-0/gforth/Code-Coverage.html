<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Code Coverage (Gforth マニュアル)</title>

<meta name="description" content="Code Coverage (Gforth マニュアル)">
<meta name="keywords" content="Code Coverage (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Programming-Tools.html" rel="up" title="Programming Tools">
<link href="Singlestep-Debugger.html" rel="prev" title="Singlestep Debugger">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="Code-Coverage">
<div class="header">
<p>
Previous: <a href="Singlestep-Debugger.html" accesskey="p" rel="prev">Singlestep Debugger</a>, Up: <a href="Programming-Tools.html" accesskey="u" rel="up">Programming Tools</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Code-Coverage-and-Execution-Frequency"></span><h4 class="subsection">6.26.10 Code Coverage and Execution Frequency</h4>
<span id="index-code-coverage"></span>
<span id="index-execution-frequency"></span>

<p>あなたのコードに対して広範なテスト(extensive tests)を実行する場合、
そのテストがコードのすべての部分を実行するかどうかを確認する必要が生じることがよくあります。  これを(テスト)カバレッジと呼びます。  ファイル
<samp>coverage.fs</samp> には、 カバレッジと実行頻度を測定するためのツールが含まれています(訳注: gforth
に組み込まれて無いので使う時は <samp>coverage.fs</samp> をロードしてください)。
</p>
<p>コード・カバレッジは、 <samp>coverage.fs</samp>
の後にロードされるすべての基本ブロック(逐次実行のコード・シーケンス)にカウント(計数)コードを挿入します。
コードが実行されるたびに、その基本ブロックのカウンター(計数器)がインクリメントされます。
後で、これらの基本ブロックに挿入されたカウント(計数)を含むソース・ファイルを表示できます。
</p>
<span id="index-nocov_005b-_0028--_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-nocov_005b"></span>
<span id="index-nocov_005b-1"></span>
<div class="format">
<pre class="format"><code>nocov[</code> ( <i>&ndash;  </i>) gforth-1.0 &ldquo;nocov-bracket&rdquo;
</pre></div>
<p>(即実行ワード) 一時的にカバレッジをオフにすることを開始。
</p>

<span id="index-_005dnocov-_0028--_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-_005dnocov"></span>
<span id="index-_005dnocov-1"></span>
<div class="format">
<pre class="format"><code>]nocov</code> ( <i>&ndash;  </i>) gforth-1.0 &ldquo;bracket-nocov&rdquo;
</pre></div>
<p>(即実行ワード) 一時的にカバレッジをオフにすることを終了。
</p>

<span id="index-coverage_003f-_0028--_002d_002d-f--_0029-gforth_002dinternal"></span>
<span id="index-coverage_003f"></span>
<span id="index-coverage_003f-1"></span>
<div class="format">
<pre class="format"><code>coverage?</code> ( <i>&ndash; f  </i>) gforth-internal &ldquo;coverage?&rdquo;
</pre></div>
<p>Value: カバレッジ・チェックの オン/オフ
</p>

<span id="index-cov_002b-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-cov_002b"></span>
<span id="index-cov_002b-1"></span>
<div class="format">
<pre class="format"><code>cov+</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;cov+&rdquo;
</pre></div>
<p>(即実行ワード) ここ(here)にカバレッジ・カウンターを配置します。
</p>

<span id="index-_003fcov_002b-_0028--flag-_002d_002d-flag--_0029-gforth_002dexperimental"></span>
<span id="index-_003fcov_002b"></span>
<span id="index-_003fcov_002b-1"></span>
<div class="format">
<pre class="format"><code>?cov+</code> ( <i>flag &ndash; flag  </i>) gforth-experimental &ldquo;?cov+&rdquo;
</pre></div>
<p>(即実行ワード) フラグ(<i>flag</i>)のカバレッジ・カウンター。 カバレッジの出力では、 <code>?cov</code> の後ろに 3
つの数字が表示されます。 1 つ目はスタックの最上位が 0 以外だった実行の数です。 2 番目は、 ゼロだった場合の実行数です。 3
番目は実行の合計数です。
</p>

<span id="index-_002ecoverage-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-_002ecoverage"></span>
<span id="index-_002ecoverage-1"></span>
<div class="format">
<pre class="format"><code>.coverage</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;.coverage&rdquo;
</pre></div>
<p>コードを実行頻度(execution frequencies)とともに表示します。
</p>

<span id="index-annotate_002dcov-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-annotate_002dcov"></span>
<span id="index-annotate_002dcov-1"></span>
<div class="format">
<pre class="format"><code>annotate-cov</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;annotate-cov&rdquo;
</pre></div>
<p>カバレッジ情報を含むファイルごとに、 実行頻度(execution frequencies)が挿入された <code>.cov</code> ファイルを作成します。
最初に <code>bw-cover</code> を使用することをお勧めします(デフォルトの <code>color-cover</code> を使用すると、
ファイル内にエスケープ シーケンスが含まれます)。
</p>

<span id="index-cov_0025-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-cov_0025"></span>
<span id="index-cov_0025-1"></span>
<div class="format">
<pre class="format"><code>cov%</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;cov-percent&rdquo;
</pre></div>
<p><samp>coverage.fs</samp> の後でロードされ、 少なくとも 1 回実行された基本ブロックの割合を出力します。
</p>

<span id="index-_002ecover_002draw-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-_002ecover_002draw"></span>
<span id="index-_002ecover_002draw-1"></span>
<div class="format">
<pre class="format"><code>.cover-raw</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;.cover-raw&rdquo;
</pre></div>
<p>生の実行カウントを出力します。
</p>


<p>デフォルトでは、 カウント(計数)は(ANSI エスケープ・シーケンスを使用して、)カラーで表示されますが、 <code>bw-cover</code>
を使用すると、 エスケープ・シーケンスを使用せずに括弧で囲まれた形式でカウントを表示できます。
</p>
<span id="index-bw_002dcover-_0028--_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-bw_002dcover"></span>
<span id="index-bw_002dcover-1"></span>
<div class="format">
<pre class="format"><code>bw-cover</code> ( <i>&ndash;  </i>) gforth-1.0 &ldquo;bw-cover&rdquo;
</pre></div>
<p>実行カウントを(カラー表示ではなく)括弧内に出力します(ソース・コード互換)(訳注: つまり forth のコメントとして出力する。出力をそのまま
forth のソース・コードとして利用可能)。
</p>

<span id="index-color_002dcover-_0028--_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-color_002dcover"></span>
<span id="index-color_002dcover-1"></span>
<div class="format">
<pre class="format"><code>color-cover</code> ( <i>&ndash;  </i>) gforth-1.0 &ldquo;color-cover&rdquo;
</pre></div>
<p>実行カウントをカラーで表示します(デフォルト)。
</p>


<p>カバレッジ・カウンター(計数器)をバイナリ形式で保存および再ロードして、 複数のテスト実行にわたるカバレッジ・カウンターを集計できます。
</p>
<span id="index-save_002dcov-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-save_002dcov"></span>
<span id="index-save_002dcov-1"></span>
<div class="format">
<pre class="format"><code>save-cov</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;save-cov&rdquo;
</pre></div>
<p>カバレッジ・カウンターを保存します。
</p>

<span id="index-load_002dcov-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-load_002dcov"></span>
<span id="index-load_002dcov-1"></span>
<div class="format">
<pre class="format"><code>load-cov</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;load-cov&rdquo;
</pre></div>
<p>カバレッジ・カウンターをロードします。
</p>


</div>
<hr>
<div class="header">
<p>
Previous: <a href="Singlestep-Debugger.html">Singlestep Debugger</a>, Up: <a href="Programming-Tools.html">Programming Tools</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
