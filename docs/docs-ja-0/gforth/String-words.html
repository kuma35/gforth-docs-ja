<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright © 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>String words (Gforth マニュアル)</title>

<meta name="description" content="String words (Gforth マニュアル)">
<meta name="keywords" content="String words (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Strings-and-Characters.html" rel="up" title="Strings and Characters">
<link href="_0024tring-words.html" rel="next" title="＄tring words">
<link href="String-and-character-literals.html" rel="prev" title="String and character literals">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
pre.format-preformatted {font-family: inherit}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="String-words">
<div class="nav-panel">
<p>
Next: <a href="_0024tring-words.html" accesskey="n" rel="next">＄tring words</a>, Previous: <a href="String-and-character-literals.html" accesskey="p" rel="prev">String and Character literals</a>, Up: <a href="Strings-and-Characters.html" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="String-words-1"><span>6.8.4 String words<a class="copiable-link" href="#String-words-1"> &para;</a></span></h4>

<p>メモリー・ブロックに使用されるワードは文字列(string)にも役立つため、 文字列(string)の移動やコピーや比較や検索を行うワードについては、
<a class="ref" href="Memory-Blocks.html">Memory Blocks</a> を参照してください。 文字や文字列を表示するワードについては、 see <a class="ref" href="Displaying-characters-and-strings.html">Displaying characters and strings</a> を参照してください。
</p>
<p>以下のワード群は、 既に存在している文字列(strings)に対して機能します:
</p>
<a class="index-entry-id" id="index-str_003d-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f-_0029-gforth_002d0_002e6"></a>
<a class="index-entry-id" id="index-str_003d"></a>
<a class="index-entry-id" id="index-str_003d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">str=</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-equals&rdquo;
</pre></div>

<a class="index-entry-id" id="index-str_003c-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f-_0029-gforth_002d0_002e6"></a>
<a class="index-entry-id" id="index-str_003c"></a>
<a class="index-entry-id" id="index-str_003c-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">str&lt;</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;str-less-than&rdquo;
</pre></div>

<a class="index-entry-id" id="index-string_002dprefix_003f-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f-_0029-gforth_002d0_002e6"></a>
<a class="index-entry-id" id="index-string_002dprefix_003f"></a>
<a class="index-entry-id" id="index-string_002dprefix_003f-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">string-prefix?</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-0.6 &ldquo;string-prefix-question&rdquo;
</pre></div>
<p><var class="var">c-addr2 u2</var> が <var class="var">c-addr1 u1</var> の接頭辞部分と合致しますか？
</p>

<a class="index-entry-id" id="index-string_002dsuffix_003f-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-string_002dsuffix_003f"></a>
<a class="index-entry-id" id="index-string_002dsuffix_003f-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">string-suffix?</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;string-suffix-question&rdquo;
</pre></div>
<p><var class="var">c-addr2 u2</var> が <var class="var">c-addr1 u1</var> の接尾辞部分と合致しますか？
</p>

<a class="index-entry-id" id="index-search-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag-_0029-string"></a>
<a class="index-entry-id" id="index-search"></a>
<a class="index-entry-id" id="index-search-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">search</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) string &ldquo;search&rdquo;
</pre></div>
<p>文字列 <i class="i">c-addr1, u1</i> の中で、 文字列 <i class="i">c-addr2, u2</i> を検索します。  <i class="i">flag</i> が true の場合:
見つかったアドレスを <i class="i">c-addr3</i> に、 文字列 <i class="i">c-addr2, u2</i> を含むそれ以降の文字数を <i class="i">u3</i> に返します(訳注:
s&quot; GNU gforth マニュアル&quot; s&quot; ニュア&quot; search drop .&quot; [&quot; type .&quot; ]&quot; [ニュアル] ok )。
<i class="i">flag</i> が false の場合: 一致するものが見つかりませんでした。 <i class="i">c-addr3, u3</i> は <i class="i">c-addr1, u1</i>
と同じです。
</p>

<a class="index-entry-id" id="index-scan-_0028-c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-scan"></a>
<a class="index-entry-id" id="index-scan-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">scan</code> ( <i class="i">c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;scan&rdquo;
</pre></div>
<p>c に等しくないすべての文字をスキップします。 結果は c で始まる(c-addr2 u2)か空(empty; c-addr2+u2, 0)です。
<code class="code">Scan</code> はシングルバイト文字(ASCII)に限定されます。 マルチバイト文字を検索するには、 <code class="code">search</code> を使用します。
</p>
<a class="index-entry-id" id="index-scan_002dback-_0028-c_002daddr-u1-c-_002d_002d-c_002daddr-u2-_0029-gforth_002d0_002e7"></a>
<a class="index-entry-id" id="index-scan_002dback"></a>
<a class="index-entry-id" id="index-scan_002dback-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">scan-back</code> ( <i class="i">c-addr u1 c &ndash; c-addr u2  </i>) gforth-0.7 &ldquo;scan-back&rdquo;
</pre></div>

<a class="index-entry-id" id="index-skip-_0028-c_002daddr1-u1-c-_002d_002d-c_002daddr2-u2-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-skip"></a>
<a class="index-entry-id" id="index-skip-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">skip</code> ( <i class="i">c-addr1 u1 c &ndash; c-addr2 u2 </i>) gforth-0.2 &ldquo;skip&rdquo;
</pre></div>
<p>c に等しいすべての文字をスキップします。  結果は最初の非 C 文字で始まる(アドレス、長さ)か、 空(文字列の長さ0)になります。
<code class="code">skip</code> はシングルバイト文字(ASCII)に限定されます。
</p>
<a class="index-entry-id" id="index-_002dtrailing-_0028-c_005faddr-u1-_002d_002d-c_005faddr-u2-_0029-string"></a>
<a class="index-entry-id" id="index-_002dtrailing"></a>
<a class="index-entry-id" id="index-_002dtrailing-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">-trailing</code> ( <i class="i">c_addr u1 &ndash; c_addr u2  </i>) string &ldquo;dash-trailing&rdquo;
</pre></div>
<p><i class="i">c-addr, u1</i> で指定された文字列の末尾をトリムします(末尾のスペースをすべて削除します)。 <i class="i">u2</i> は変更後の文字列の長さです。
</p>

<a class="index-entry-id" id="index-_002fstring-_0028-c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2-_0029-string"></a>
<a class="index-entry-id" id="index-_002fstring"></a>
<a class="index-entry-id" id="index-_002fstring-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">/string</code> ( <i class="i">c-addr1 u1 n &ndash; c-addr2 u2 </i>) string &ldquo;slash-string&rdquo;
</pre></div>
<p><i class="i">c-addr1, u1</i> で指定された文字列の先頭から <i class="i">n</i> 文字削除します(訳注: c-addr1+n, u1-n するだけっぽい…)。
</p>
<a class="index-entry-id" id="index-safe_002fstring-_0028-c_002daddr1-u1-n-_002d_002d-c_002daddr2-u2-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-safe_002fstring"></a>
<a class="index-entry-id" id="index-safe_002fstring-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">safe/string</code> ( <i class="i">c-addr1 u1 n &ndash; c-addr2 u2 </i>) gforth-1.0 &ldquo;safe-slash-string&rdquo;
</pre></div>
<p><i class="i">c-addr1, u1</i> で指定された文字列の先頭から <i class="i">n</i> 文字を削除します。 <code class="code">/string</code>
とは異なり、<code class="code">safe/string</code> は少なくとも 0 文字、 最大で <i class="i">u1</i> 文字を削除します。
</p>
<a class="index-entry-id" id="index-cstring_003esstring-_0028-c_002daddr-_002d_002d-c_002daddr-u-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-cstring_003esstring"></a>
<a class="index-entry-id" id="index-cstring_003esstring-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">cstring&gt;sstring</code> ( <i class="i">c-addr &ndash; c-addr u  </i>) gforth-0.2 &ldquo;cstring-to-sstring&rdquo;
</pre></div>
<p><i class="i">C-addr</i> はゼロで終わる文字列の開始アドレス、 <i class="i">u</i> はその長さです。
</p>


<p>以下のワード群は、 ASCII 文字については大文字と小文字を区別せずに比較しますが、 (ワードリストの検索のような)非 ASCII
文字については大文字と小文字を区別します 。
</p>
<a class="index-entry-id" id="index-capscompare-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-n-_0029-gforth_002d0_002e7"></a>
<a class="index-entry-id" id="index-capscompare"></a>
<a class="index-entry-id" id="index-capscompare-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">capscompare</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; n </i>) gforth-0.7 &ldquo;capscompare&rdquo;
</pre></div>
<p>文字列内のバイトの値に基づいて、 2 つの文字列(string)を辞書順(lexicographically)に比較します。ただし、 ASCII
文字は大文字と小文字を区別せずに比較し、 非 ASCII 文字は大文字と小文字を区別して、 かつ、 ロケール固有の照合順序を使用せずに比較します。
それらが等しい場合 <i class="i">n</i> は 0 です。 最初の文字列が小さい場合 <i class="i">n</i> は -1 です。 最初の文字列が大きい場合<i class="i">n</i> は 1
です。 
</p>
<a class="index-entry-id" id="index-capsstring_002dprefix_003f-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-f-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-capsstring_002dprefix_003f"></a>
<a class="index-entry-id" id="index-capsstring_002dprefix_003f-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">capsstring-prefix?</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; f  </i>) gforth-1.0 &ldquo;capsstring-prefix?&rdquo;
</pre></div>
<p><code class="code">string-prefix?</code> と似ていますが、 ASCII 文字の大文字と小文字は区別されません: <var class="var">c-addr2 u2</var> は
<var class="var">c-addr1 u1</var> の接頭辞か？
</p>

<a class="index-entry-id" id="index-capssearch-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr3-u3-flag-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-capssearch"></a>
<a class="index-entry-id" id="index-capssearch-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">capssearch</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; c-addr3 u3 flag  </i>) gforth-1.0 &ldquo;capssearch&rdquo;
</pre></div>
<p><code class="code">search</code> と似ていますが、 ASCII 文字の大文字と小文字は区別されません: <i class="i">c-addr1 u1</i> 内で
<i class="i">c-addr2 u2</i> を検索します。 見つかった場合 <i class="i">flag</i> は true になります。
</p>


<p>以下のワード群は、 ヒープに文字列(string)を作成、 またはヒープの文字列(string)を拡張します。
</p>
<a class="index-entry-id" id="index-s_002b-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u-_0029-gforth_002d0_002e7"></a>
<a class="index-entry-id" id="index-s_002b"></a>
<a class="index-entry-id" id="index-s_002b-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">s+</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;s-plus&rdquo;
</pre></div>
<p><i class="i">c-addr u</i> は、<i class="i">c-addr1 u1</i> (最初) と <i class="i">c-addr2 u2</i> (2 番目) を連結したのを含む、 新しく
<code class="code">allocate</code> された文字列です。
</p>

<a class="index-entry-id" id="index-append-_0028-c_002daddr1-u1-c_002daddr2-u2-_002d_002d-c_002daddr-u-_0029-gforth_002d0_002e7"></a>
<a class="index-entry-id" id="index-append"></a>
<a class="index-entry-id" id="index-append-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">append</code> ( <i class="i">c-addr1 u1 c-addr2 u2 &ndash; c-addr u  </i>) gforth-0.7 &ldquo;append&rdquo;
</pre></div>
<p><i class="i">C-addr u</i> は、<i class="i">c-addr1 u1</i> (最初) と <i class="i">c-addr2 u2</i> (2 番目) を連結したものです。
<i class="i">c-addr1 u1</i> は <code class="code">allocate</code> された文字列であり、 <i class="i">u</i>
文字の領域に対応するために(可能なら)サイズ変更(resize)して <i class="i">c-addr2 u2</i>
の文字列を追加(append)します(サイズ変更できなくて、新しいアドレスに移動する可能性があります)。
</p>

<a class="index-entry-id" id="index-_003estring_002dexecute-_0028-_002e_002e_002e-xt-_002d_002d-_002e_002e_002e-addr-u-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-_003estring_002dexecute"></a>
<a class="index-entry-id" id="index-_003estring_002dexecute-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">&gt;string-execute</code> ( <i class="i">... xt &ndash; ... addr u  </i>) gforth-1.0 &ldquo;&gt;string-execute&rdquo;
</pre></div>
<p>xt を実行(execute)すると、 標準出力 (<code class="code">type</code> や <code class="code">emit</code> やそれらを使用するすべてのもの)
を文字列にリダイレクトします。 結果の文字列は addr u で、これは割り当てられた(<code class="code">allocate</code>)メモリー内にあります。
この文字列を開放(<code class="code">free</code>)するのは、 <code class="code">&gt;string-execute</code> の呼び出し元の責任です。
</p>


<p>以下のようにして、<code class="code">&gt;string-execute</code> を使用して <code class="code">s+</code> を定義できます:
</p>
<p>: s+ ( c-addr1 u1 c-addr2 u2 &ndash; c-addr u )  [: 2swap type type ;]
&gt;string-execute ;
</p>
<p>2 つの文字列だけを連結する場合、 <code class="code">&gt;string-execute</code> は効率的ではありませんが、 多くの文字列を連結する場合は、
<code class="code">&gt;string-execute</code> の方が効率的です。
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="_0024tring-words.html">＄tring words</a>, Previous: <a href="String-and-character-literals.html">String and Character literals</a>, Up: <a href="Strings-and-Characters.html">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
