<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Characters and Strings Tutorial (Gforth マニュアル)</title>

<meta name="description" content="Characters and Strings Tutorial (Gforth マニュアル)">
<meta name="keywords" content="Characters and Strings Tutorial (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tutorial.html" rel="up" title="Tutorial">
<link href="Alignment-Tutorial.html" rel="next" title="Alignment Tutorial">
<link href="Memory-Tutorial.html" rel="prev" title="Memory Tutorial">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="section" id="Characters-and-Strings-Tutorial">
<div class="header">
<p>
Next: <a href="Alignment-Tutorial.html" accesskey="n" rel="next">Alignment</a>, Previous: <a href="Memory-Tutorial.html" accesskey="p" rel="prev">Memory</a>, Up: <a href="Tutorial.html" accesskey="u" rel="up">Forth Tutorial</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Characters-and-Strings"></span><h3 class="section">3.24 Characters and Strings</h3>
<span id="index-strings-tutorial"></span>
<span id="index-characters-tutorial"></span>

<p>スタック上では、 数と同様に文字がセルを占めます。 メモリ内では文字は独自のサイズ(ほとんどのシステムでは 8 ビットのバイト値)であるため、
メモリ・アクセスには文字独自のワードが必要です:
</p>
<div class="example">
<pre class="example">create v4 
  104 c, 97 c, 108 c, 108 c, 111 c,
v4 4 chars + c@ .
v4 5 chars dump
</pre></div>

<p>スタック上の文字列の推奨される表現は <code>addr u-count</code> です。ここで、<code>addr</code> は文字列の最初の文字のアドレスで、
<code>u-count</code> は文字列の文字数です。
</p>
<div class="example">
<pre class="example">v4 5 type
</pre></div>

<p>以下を使用すると文字列定数を取得できます
</p>
<div class="example">
<pre class="example">s&quot; hello, world&quot; .s
type
</pre></div>

<p><code>s&quot;</code> と文字列の間にスペースがあることを確かめてください。 <code>s&quot;</code> は通常の Forth ワードであり、 空白(white
space)で区切る必要があります(スペースを削除するとどうなるかを試してみましょう)。
</p>
<p>ただし、 この <code>s&quot;</code> のインタプリタでの使用(interpretive use)は非常に制限されています。 文字列は、 <code>s&quot;</code>
が次に呼び出されるまでの間だけ存在します(一部の Forth システムはこれらの文字列を複数保持しますが、 普通は未だ限られた寿命です)。
</p>
<div class="example">
<pre class="example">s&quot; hello,&quot; s&quot; world&quot; .s
type
type
</pre></div>

<p>あなたは定義内で <code>s&quot;</code> を使用することもでき、 (定義が続く限り、)その結果の文字列は永久に存続します:
</p>
<div class="example">
<pre class="example">: foo s&quot; hello,&quot; s&quot; world&quot; ;
foo .s
type
type
</pre></div>

<blockquote>
<p><b>研究課題(assignment):</b> <code>Emit ( c -- )</code> は <code>c</code> を(数値ではなく)文字として出力します。 これを使って <code>type (
addr u -- )</code> を実装してみましょう。
</p></blockquote>

<p>こちらも参照ください: <a href="Memory-Blocks.html">Memory Blocks</a>
</p>

</div>



</body>
</html>
