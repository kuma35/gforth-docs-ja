<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>String and character literals (Gforth マニュアル)</title>

<meta name="description" content="String and character literals (Gforth マニュアル)">
<meta name="keywords" content="String and character literals (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Strings-and-Characters.html" rel="up" title="Strings and Characters">
<link href="String-words.html" rel="next" title="String words">
<link href="String-representations.html" rel="prev" title="String representations">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="String-and-character-literals">
<div class="header">
<p>
Next: <a href="String-words.html" accesskey="n" rel="next">String words</a>, Previous: <a href="String-representations.html" accesskey="p" rel="prev">String representations</a>, Up: <a href="Strings-and-Characters.html" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="String-and-Character-literals"></span><h4 class="subsection">6.8.3 String and Character literals</h4>
<span id="index-character-literals"></span>
<span id="index-string-literals"></span>
<span id="index-literals-for-characters-and-strings"></span>

<p>The nicest way to write a string literal is to write it as
<code>&quot;<i>STRING</i>&quot;</code>.  You can use the same \-escapes inside as for
<code>s\&quot;</code>.  However, this way is non-standard, so you may want to use one
of the following words for improved portability:
</p>
<span id="index-s_005c_0022-_0028--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c_002daddr-u--_0029-core_002dext_002cfile_002dext"></span>
<span id="index-s_005c_0022"></span>
<span id="index-s_005c_0022-1"></span>
<div class="format">
<pre class="format"><code>s\&quot;</code> ( <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash; c-addr u  </i>) core-ext,file-ext &ldquo;s-backslash-quote&rdquo;
</pre></div>
<p>Like <code>S&quot;</code>, but translates C-like \-escape-sequences, as follows:
<code>\a</code> BEL (alert), <code>\b</code> BS, <code>\e</code> ESC (not in C99), <code>\f</code>
FF, <code>\n</code> newline, <code>\r</code> CR, <code>\t</code> HT, <code>\v</code> VT, <code>\&quot;</code>
&quot;, <code>\\</code> \, <code>\</code>[0-7]{1,3} octal numerical character value
(non-standard), <code>\x</code>[0-9a-f]{0,2} hex numerical character value
(standard only with two digits), <code>\u</code>[0-9a-f]{4} for unicode
codepoints (auto-merges surrogate pairs), <code>\U</code>[0-9a-f]{8} for
extended unicode code points; a <code>\</code> before any other character is
reserved.  <br> Note that <code>\x</code>XX produces raw bytes, while <code>\u</code>XXXX
and <code>\U</code>XXXXXXXX produce code points for the current encoding.  E.g.,
if we use UTF-8 encoding and want to encode &auml; (code point U+00E4), you can
write the letter &auml; itself, or write <code>\xc3\xa4</code> (the UTF-8 bytes for
this code point), <code>\u00e4</code>, or <code>\U000000e4</code>.  <br> Note that, unlike
in C, <code>\n</code> produces the preferred newline sequence for the host OS,
which may consist of several chars.  I.e., <code>&quot;\n&quot;</code> is equivalent to
<code>newline</code>.
</p>

<span id="index-S_0022-_0028--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c_002daddr-u--_0029-core_002cfile"></span>
<span id="index-S_0022"></span>
<span id="index-S_0022-1"></span>
<div class="format">
<pre class="format"><code>S&quot;</code> ( <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash; c-addr u  </i>) core,file &ldquo;s-quote&rdquo;
</pre></div>
<p>Compilation: Parse a string <i>ccc</i> delimited by a <code>&quot;</code> (double
quote). At run-time, return the length, <i>u</i>, and the start address,
<i>c-addr</i> of the string. Interpretation: parse the string as before, and
return <i>c-addr</i>, <i>u</i>. Gforth <code>allocate</code>s the string. The resulting
memory leak is usually not a problem; the exception is if you create strings
containing <code>S&quot;</code> and <code>evaluate</code> them; then the leak is not bounded
by the size of the interpreted files and you may want to <code>free</code> the
strings.  Forth-2012 only guarantees two buffers of 80 characters each, so
in standard programs you should assume that the string lives only until the
next-but-one <code>s&quot;</code>.
</p>


<p>Likewise, You can get the code <i>xc</i> of a character <i>C</i> with
<code>'<i>C</i>'</code>.  This way has been standardized since Forth-2012.  An older
way to get it is to use one of the following words:
</p>
<span id="index-char-_0028--_0027_003cspaces_003eccc_0027-_002d_002d-c--_0029-core_002cxchar_002dext"></span>
<span id="index-char"></span>
<span id="index-char-1"></span>
<div class="format">
<pre class="format"><code>char</code> ( <i>&rsquo;&lt;spaces&gt;ccc&rsquo; &ndash; c  </i>) core,xchar-ext &ldquo;char&rdquo;
</pre></div>
<p>Skip leading spaces. Parse the string <i>ccc</i> and return <i>c</i>, the display
code representing the first character of <i>ccc</i>.
</p>

<span id="index-_005bchar_005d-_0028--compilation-_0027_003cspaces_003eccc_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c--_0029-core_002cxchar_002dext"></span>
<span id="index-_005bchar_005d"></span>
<span id="index-_005bchar_005d-1"></span>
<div class="format">
<pre class="format"><code>[char]</code> ( <i>compilation &rsquo;&lt;spaces&gt;ccc&rsquo; &ndash; ; run-time &ndash; c  </i>) core,xchar-ext &ldquo;bracket-char&rdquo;
</pre></div>
<p>Compilation: skip leading spaces. Parse the string <i>ccc</i>. Run-time: return
<i>c</i>, the display code representing the first character of <i>ccc</i>.
Interpretation semantics for this word are undefined.
</p>


<p>You usually use <code>char</code> outside and <code>[char]</code> inside colon
definitions, or you just use <code>'<i>C</i>'</code>.
</p>
<p>Note that, e.g.,
</p>
<div class="example">
<pre class="example">&quot;C&quot; type
</pre></div>

<p>is (slightly) more efficient than
</p>
<div class="example">
<pre class="example">'C' xemit
</pre></div>

<p>because the latter converts the code point into a sequence of bytes and
individually <code>emit</code>s them.  Similarly, dealing with general characters
is usually more efficient when representing them as strings rather than code
points.
</p>
<p>There are the following words for producing commonly-used characters and
strings that cannot be produced with <code>S&quot;</code> or <code>'<i>C</i>'</code>:
</p>
<span id="index-newline-_0028--_002d_002d-c_002daddr-u--_0029-gforth_002d0_002e5"></span>
<span id="index-newline"></span>
<span id="index-newline-1"></span>
<div class="format">
<pre class="format"><code>newline</code> ( <i>&ndash; c-addr u </i>) gforth-0.5 &ldquo;newline&rdquo;
</pre></div>
<p>String containing the newline sequence of the host OS
</p>
<span id="index-bl-_0028--_002d_002d-c_002dchar--_0029-core"></span>
<span id="index-bl"></span>
<span id="index-bl-1"></span>
<div class="format">
<pre class="format"><code>bl</code> ( <i>&ndash; c-char  </i>) core &ldquo;b-l&rdquo;
</pre></div>
<p><i>c-char</i> is the character value for a space.
</p>

<span id="index-_0023tab-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023tab"></span>
<span id="index-_0023tab-1"></span>
<div class="format">
<pre class="format"><code>#tab</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-tab&rdquo;
</pre></div>

<span id="index-_0023lf-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023lf"></span>
<span id="index-_0023lf-1"></span>
<div class="format">
<pre class="format"><code>#lf</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-l-f&rdquo;
</pre></div>

<span id="index-_0023cr-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023cr"></span>
<span id="index-_0023cr-1"></span>
<div class="format">
<pre class="format"><code>#cr</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-c-r&rdquo;
</pre></div>

<span id="index-_0023ff-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023ff"></span>
<span id="index-_0023ff-1"></span>
<div class="format">
<pre class="format"><code>#ff</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-f-f&rdquo;
</pre></div>

<span id="index-_0023bs-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023bs"></span>
<span id="index-_0023bs-1"></span>
<div class="format">
<pre class="format"><code>#bs</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-b-s&rdquo;
</pre></div>

<span id="index-_0023del-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023del"></span>
<span id="index-_0023del-1"></span>
<div class="format">
<pre class="format"><code>#del</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-del&rdquo;
</pre></div>

<span id="index-_0023bell-_0028--_002d_002d-c--_0029-gforth_002d0_002e2"></span>
<span id="index-_0023bell"></span>
<span id="index-_0023bell-1"></span>
<div class="format">
<pre class="format"><code>#bell</code> ( <i>&ndash; c  </i>) gforth-0.2 &ldquo;number-bell&rdquo;
</pre></div>

<span id="index-_0023esc-_0028--_002d_002d-c--_0029-gforth_002d0_002e5"></span>
<span id="index-_0023esc"></span>
<span id="index-_0023esc-1"></span>
<div class="format">
<pre class="format"><code>#esc</code> ( <i>&ndash; c  </i>) gforth-0.5 &ldquo;number-esc&rdquo;
</pre></div>

<span id="index-_0023eof-_0028--_002d_002d-c--_0029-gforth_002d0_002e7"></span>
<span id="index-_0023eof"></span>
<span id="index-_0023eof-1"></span>
<div class="format">
<pre class="format"><code>#eof</code> ( <i>&ndash; c  </i>) gforth-0.7 &ldquo;number-e-o-f&rdquo;
</pre></div>
<p>actually EOT (ASCII code 4 aka <code>^D</code>)
</p>


</div>
<hr>
<div class="header">
<p>
Next: <a href="String-words.html">String words</a>, Previous: <a href="String-representations.html">String representations</a>, Up: <a href="Strings-and-Characters.html">Strings and Characters</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
