<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>core-ambcond (Gforth マニュアル)</title>

<meta name="description" content="core-ambcond (Gforth マニュアル)">
<meta name="keywords" content="core-ambcond (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-Core-Words.html" rel="up" title="The Core Words">
<link href="core_002dother.html" rel="next" title="core-other">
<link href="core_002didef.html" rel="prev" title="core-idef">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="core_002dambcond">
<div class="header">
<p>
Next: <a href="core_002dother.html" accesskey="n" rel="next">Other system documentation</a>, Previous: <a href="core_002didef.html" accesskey="p" rel="prev">Implementation Defined Options</a>, Up: <a href="The-Core-Words.html" accesskey="u" rel="up">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Ambiguous-conditions"></span><h4 class="subsection">9.1.2 Ambiguous conditions</h4>
<span id="index-core-words_002c-ambiguous-conditions"></span>
<span id="index-ambiguous-conditions_002c-core-words"></span>

<dl compact="compact">
<dt id='index-name-not-found'><span><i>a name is neither a word nor a number:</i><a href='#index-name-not-found' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-undefined-word"></span>
<p><code>-13 throw</code> (Undefined word).
</p>
</dd>
<dt id='index-word-name-too-long'><span><i>a definition name exceeds the maximum length allowed:</i><a href='#index-word-name-too-long' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>-19 throw</code> (Word name too long)
</p>
</dd>
<dt id='index-Invalid-memory-address'><span><i>addressing a region not inside the various data spaces of the forth system:</i><a href='#index-Invalid-memory-address' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>The stacks, code space and header space are accessible. Machine code space
is typically readable. Accessing other addresses gives results dependent on
the operating system. On decent systems: <code>-9 throw</code> (Invalid memory
address).
</p>
</dd>
<dt id='index-argument-type-mismatch'><span><i>argument type incompatible with parameter:</i><a href='#index-argument-type-mismatch' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>This is usually not caught. Some words perform checks, e.g., the control
flow words, and issue a <code>ABORT&quot;</code> or <code>-12 THROW</code> (Argument type
mismatch).
</p>
</dd>
<dt id='index-compile_002donly-warning_002c-for-_0027-etc_002e'><span><i>attempting to obtain the execution token of a word with undefined execution semantics:</i><a href='#index-compile_002donly-warning_002c-for-_0027-etc_002e' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-execution-token-of-words-with-undefined-execution-semantics"></span>
<p>The execution token represents the interpretation semantics of the word.
Gforth defines interpretation semantics for all words; for words where the
standard does not define interpretation semantics, but defines the execution
semantics (except <code>LEAVE</code>), the interpretation semantics are to perform
the execution semantics.  For words where the standard defines no
interprtation semantics, but defined compilation semantics (plus
<code>LEAVE</code>), the interpretation semantics are to perform the compilation
semantics.  Some words are marked as compile-only, and <code>'</code> gives a
warning for these words.
</p>
</dd>
<dt id='index-dividing-by-zero'><span><i>dividing by zero:</i><a href='#index-dividing-by-zero' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-floating-point-unidentified-fault_002c-integer-division"></span>
<p>On some platforms, this produces a <code>-10 throw</code> (Division by zero); on
other systems, this typically results in a <code>-55 throw</code> (Floating-point
unidentified fault).
</p>
</dd>
<dt id='index-insufficient-data-stack-or-return-stack-space'><span><i>insufficient data stack or return stack space:</i><a href='#index-insufficient-data-stack-or-return-stack-space' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-stack-overflow"></span>
<span id="index-address-alignment-exception_002c-stack-overflow"></span>
<span id="index-Invalid-memory-address_002c-stack-overflow"></span>
<p>Depending on the operating system, the installation, and the invocation of
Gforth, this is either checked by the memory management hardware, or it is
not checked. If it is checked, you typically get a <code>-3 throw</code> (Stack
overflow), <code>-5 throw</code> (Return stack overflow), or <code>-9 throw</code>
(Invalid memory address) (depending on the platform and how you achieved the
overflow) as soon as the overflow happens. If it is not checked, overflows
typically result in mysterious illegal memory accesses, producing <code>-9
throw</code> (Invalid memory address) or <code>-23 throw</code> (Address alignment
exception); they might also destroy the internal data structure of
<code>ALLOCATE</code> and friends, resulting in various errors in these words.
</p>
</dd>
<dt id='index-insufficient-space-for-loop-control-parameters'><span><i>insufficient space for loop control parameters:</i><a href='#index-insufficient-space-for-loop-control-parameters' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Like other return stack overflows.
</p>
</dd>
<dt id='index-insufficient-space-in-the-dictionary'><span><i>insufficient space in the dictionary:</i><a href='#index-insufficient-space-in-the-dictionary' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-dictionary-overflow"></span>
<p>If you try to allot (either directly with <code>allot</code>, or indirectly with
<code>,</code>, <code>create</code> etc.) more memory than available in the dictionary,
you get a <code>-8 throw</code> (Dictionary overflow). If you try to access memory
beyond the end of the dictionary, the results are similar to stack
overflows.
</p>
</dd>
<dt id='index-interpreting-a-word-with-undefined-interpretation-semantics'><span><i>interpreting a word with undefined interpretation semantics:</i><a href='#index-interpreting-a-word-with-undefined-interpretation-semantics' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-Interpreting-a-compile_002donly-word"></span>
<p>Gforth defines interpretation semantics for all words; for words where the
standard defines execution semantics (except <code>LEAVE</code>), the
interpretation semantics are to perform the execution semantics.  For words
where the standard defines no interprtation semantics, but defined
compilation semantics (plus <code>LEAVE</code>), the interpretation semantics are
to perform the compilation semantics.  Some words are marked as
compile-only, and text-interpreting them gives a warning.
</p>
</dd>
<dt id='index-modifying-the-contents-of-the-input-buffer-or-a-string-literal'><span><i>modifying the contents of the input buffer or a string literal:</i><a href='#index-modifying-the-contents-of-the-input-buffer-or-a-string-literal' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>These are located in writable memory and can be modified.
</p>
</dd>
<dt id='index-overflow-of-the-pictured-numeric-output-string'><span><i>overflow of the pictured numeric output string:</i><a href='#index-overflow-of-the-pictured-numeric-output-string' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-pictured-numeric-output-string_002c-overflow"></span>
<p><code>-17 throw</code> (Pictured numeric ouput string overflow).
</p>
</dd>
<dt id='index-parsed-string-overflow'><span><i>parsed string overflow:</i><a href='#index-parsed-string-overflow' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>PARSE</code> cannot overflow. <code>WORD</code> does not check for overflow.
</p>
</dd>
<dt id='index-result-out-of-range'><span><i>producing a result out of range:</i><a href='#index-result-out-of-range' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>On two&rsquo;s complement machines, arithmetic is performed modulo
2**bits-per-cell for single arithmetic and 4**bits-per-cell for double
arithmetic (with appropriate mapping for signed types). Division by zero
typically results in a <code>-10 throw</code> (divide by zero) or <code>-55 throw</code>
(floating point unidentified fault). Overflow on division may result in
these errors or in <code>-11 throw</code> (result out of range).
<code>Gforth-fast</code> may silently produce bogus results on division overflow
or division by zero.  <code>Convert</code> and <code>&gt;number</code> currently overflow
silently.
</p>
</dd>
<dt id='index-stack-empty'><span><i>reading from an empty data or return stack:</i><a href='#index-stack-empty' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-stack-underflow"></span>
<span id="index-return-stack-underflow"></span>
<p>The data stack is checked by the outer (aka text) interpreter after every
word executed. If it has underflowed, a <code>-4 throw</code> (Stack underflow) is
performed. Apart from that, stacks may be checked or not, depending on
operating system, installation, and invocation. If they are caught by a
check, they typically result in <code>-4 throw</code> (Stack underflow), <code>-6
throw</code> (Return stack underflow) or <code>-9 throw</code> (Invalid memory address),
depending on the platform and which stack underflows and by how much. Note
that even if the system uses checking (through the MMU), your program may
have to underflow by a significant number of stack items to trigger the
reaction (the reason for this is that the MMU, and therefore the checking,
works with a page-size granularity).  If there is no checking, the symptoms
resulting from an underflow are similar to those from an overflow.
Unbalanced return stack errors can result in a variety of symptoms,
including <code>-9 throw</code> (Invalid memory address) and Illegal Instruction
(typically <code>-260 throw</code>).
</p>
</dd>
<dt id='index-unexpected-end-of-the-input-buffer'><span><i>unexpected end of the input buffer, resulting in an attempt to use a zero-length string as a name:</i><a href='#index-unexpected-end-of-the-input-buffer' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-zero_002dlength-string-as-a-name"></span>
<span id="index-Attempt-to-use-zero_002dlength-string-as-a-name"></span>
<p><code>Create</code> and its descendants perform a <code>-16 throw</code> (Attempt to use
zero-length string as a name). Words like <code>'</code> probably will not find
what they search. Note that it is possible to create zero-length names with
<code>nextname</code> (should it not?).
</p>
</dd>
<dt id='index-_003eIN-greater-than-input-buffer'><span><i><code>&gt;IN</code> greater than input buffer:</i><a href='#index-_003eIN-greater-than-input-buffer' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>The next invocation of a parsing word returns a string with length 0.
</p>
</dd>
<dt id='index-RECURSE-appears-after-DOES_003e'><span><i><code>RECURSE</code> appears after <code>DOES&gt;</code>:</i><a href='#index-RECURSE-appears-after-DOES_003e' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Compiles a recursive call to the code after <code>DOES&gt;</code>.
</p>
</dd>
<dt id='index-argument-input-source-different-than-current-input-source-for-RESTORE_002dINPUT'><span><i>argument input source different than current input source for <code>RESTORE-INPUT</code>:</i><a href='#index-argument-input-source-different-than-current-input-source-for-RESTORE_002dINPUT' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-argument-type-mismatch_002c-RESTORE_002dINPUT"></span>
<span id="index-RESTORE_002dINPUT_002c-Argument-type-mismatch"></span>
<p><code>-12 THROW</code>. Note that, once an input file is closed (e.g., because the
end of the file was reached), its source-id may be reused. Therefore,
restoring an input source specification referencing a closed file may lead
to unpredictable results instead of a <code>-12 THROW</code>.
</p>
<p>In the future, Gforth may be able to restore input source specifications
from other than the current input source.
</p>
</dd>
<dt id='index-data-space-containing-definitions-gets-de_002dallocated'><span><i>data space containing definitions gets de-allocated:</i><a href='#index-data-space-containing-definitions-gets-de_002dallocated' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Deallocation with <code>allot</code> is not checked. This typically results in
memory access faults or execution of illegal instructions.
</p>
</dd>
<dt id='index-data-space-read_002fwrite-with-incorrect-alignment'><span><i>data space read/write with incorrect alignment:</i><a href='#index-data-space-read_002fwrite-with-incorrect-alignment' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-alignment-faults"></span>
<span id="index-address-alignment-exception"></span>
<p>Processor-dependent. Typically results in a <code>-23 throw</code> (Address
alignment exception). Under Linux-Intel on a 486 or later processor with
alignment turned on, incorrect alignment results in a <code>-9 throw</code>
(Invalid memory address). There are reportedly some processors with
alignment restrictions that do not report violations.
</p>
</dd>
<dt id='index-data-space-pointer-not-properly-aligned_002c-_002c_002c-C_002c'><span><i>data space pointer not properly aligned, <code>,</code>, <code>C,</code>:</i><a href='#index-data-space-pointer-not-properly-aligned_002c-_002c_002c-C_002c' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Like other alignment errors.
</p>
</dd>
<dt><span><i>less than u+2 stack items (<code>PICK</code> and <code>ROLL</code>):</i></span></dt>
<dd><p>Like other stack underflows.
</p>
</dd>
<dt id='index-loop-control-parameters-not-available'><span><i>loop control parameters not available:</i><a href='#index-loop-control-parameters-not-available' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Not checked. The counted loop words simply assume that the top of return
stack items are loop control parameters and behave accordingly.
</p>
</dd>
<dt id='index-most-recent-definition-does-not-have-a-name-_0028IMMEDIATE_0029'><span><i>most recent definition does not have a name (<code>IMMEDIATE</code>):</i><a href='#index-most-recent-definition-does-not-have-a-name-_0028IMMEDIATE_0029' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-last-word-was-headerless"></span>
<p><code>abort&quot; last word was headerless&quot;</code>.
</p>
</dd>
<dt id='index-name-not-defined-by-VALUE-used-by-TO'><span><i>name not defined by <code>VALUE</code> used by <code>TO</code>:</i><a href='#index-name-not-defined-by-VALUE-used-by-TO' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-TO-on-non_002dVALUEs"></span>
<span id="index-Invalid-name-argument_002c-TO"></span>
<p><code>-32 throw</code> (Invalid name argument) (unless name is a local or was
defined by <code>CONSTANT</code>; in the latter case it just changes the
constant).
</p>
</dd>
<dt id='index-name-not-found-_0028_0027_002c-POSTPONE_002c-_005b_0027_005d_002c-_005bCOMPILE_005d_0029'><span><i>name not found (<code>'</code>, <code>POSTPONE</code>, <code>[']</code>, <code>[COMPILE]</code>):</i><a href='#index-name-not-found-_0028_0027_002c-POSTPONE_002c-_005b_0027_005d_002c-_005bCOMPILE_005d_0029' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-undefined-word_002c-_0027_002c-POSTPONE_002c-_005b_0027_005d_002c-_005bCOMPILE_005d"></span>
<p><code>-13 throw</code> (Undefined word)
</p>
</dd>
<dt id='index-parameters-are-not-of-the-same-type-_0028DO_002c-_003fDO_002c-WITHIN_0029'><span><i>parameters are not of the same type (<code>DO</code>, <code>?DO</code>, <code>WITHIN</code>):</i><a href='#index-parameters-are-not-of-the-same-type-_0028DO_002c-_003fDO_002c-WITHIN_0029' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Gforth behaves as if they were of the same type. I.e., you can predict the
behaviour by interpreting all parameters as, e.g., signed.
</p>
</dd>
<dt id='index-POSTPONE-or-_005bCOMPILE_005d-applied-to-TO'><span><i><code>POSTPONE</code> or <code>[COMPILE]</code> applied to <code>TO</code>:</i><a href='#index-POSTPONE-or-_005bCOMPILE_005d-applied-to-TO' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume <code>: X POSTPONE TO ; IMMEDIATE</code>. <code>X</code> performs the compilation
semantics of <code>TO</code>.
</p>
</dd>
<dt id='index-string-longer-than-a-counted-string-returned-by-WORD'><span><i>String longer than a counted string returned by <code>WORD</code>:</i><a href='#index-string-longer-than-a-counted-string-returned-by-WORD' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-WORD_002c-string-overflow"></span>
<p>Not checked. The string will be ok, but the count will, of course, contain
only the least significant bits of the length.
</p>
</dd>
<dt id='index-LSHIFT_002c-large-shift-counts'><span><i>u greater than or equal to the number of bits in a cell (<code>LSHIFT</code>, <code>RSHIFT</code>):</i><a href='#index-LSHIFT_002c-large-shift-counts' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-RSHIFT_002c-large-shift-counts"></span>
<p>Processor-dependent. Typical behaviours are returning 0 and using only the
low bits of the shift count.
</p>
</dd>
<dt id='index-_003eBODY-of-non_002dCREATEd-words'><span><i>word not defined via <code>CREATE</code>:</i><a href='#index-_003eBODY-of-non_002dCREATEd-words' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>&gt;BODY</code> produces the PFA of the word no matter how it was defined.
</p>
<span id="index-DOES_003e-of-non_002dCREATEd-words"></span>
<p><code>DOES&gt;</code> changes the execution semantics of the last defined word no
matter how it was defined. E.g., <code>CONSTANT DOES&gt;</code> is equivalent to
<code>CREATE , DOES&gt;</code>.
</p>
</dd>
<dt><span><i>words improperly used outside <code>&lt;#</code> and <code>#&gt;</code>:</i></span></dt>
<dd><p>Not checked. As usual, you can expect memory faults.
</p>
</dd>
</dl>


</div>
<hr>
<div class="header">
<p>
Next: <a href="core_002dother.html">Other system documentation</a>, Previous: <a href="core_002didef.html">Implementation Defined Options</a>, Up: <a href="The-Core-Words.html">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
