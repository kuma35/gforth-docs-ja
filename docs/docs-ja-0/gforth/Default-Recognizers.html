<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Default Recognizers (Gforth マニュアル)</title>

<meta name="description" content="Default Recognizers (Gforth マニュアル)">
<meta name="keywords" content="Default Recognizers (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Recognizers.html" rel="up" title="Recognizers">
<link href="Dealing-with-existing-Recognizers.html" rel="next" title="Dealing with existing Recognizers">
<link href="Recognizers.html" rel="prev" title="Recognizers">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsubsection" id="Default-Recognizers">
<div class="header">
<p>
Next: <a href="Dealing-with-existing-Recognizers.html" accesskey="n" rel="next">Dealing with existing Recognizers</a>, Previous: <a href="Recognizers.html" accesskey="p" rel="prev">Recognizers</a>, Up: <a href="Recognizers.html" accesskey="u" rel="up">Recognizers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Default-Recognizers-1"></span><h4 class="subsubsection">6.14.5.1 Default Recognizers</h4>
<span id="index-Recognizers-normal-usage"></span>

<p>標準の Forth テキスト・インタプリタは、 サーチ・オーダー内のワード(<code>rec-nt</code>) と、 整数(<code>rec-num</code>)と、
浮動小数点数(<code>rec-float</code>)を認識します。  デフォルトでは、 Gforth は 以下の構文も認識します
</p>
<ul>
<li> 文字列 例: <code>&quot;mystring&quot;</code> (<code>rec-string</code>)

</li><li> 混合数値(complex numbers) 例: <code>0e+1ei</code> (<code>rec-complex</code>)

</li><li> value への格納または defered word の変更 例: <code>-&gt;myvalue</code> (<code>rec-to</code>)

</li><li> ワードのインタプリタ機能(interpretation semantics)表す xt です。 例: <code>`dup</code>
(<code>rec-tick</code>)

</li><li> ワードの nt です。 例: <code>``mysynonym</code> (<code>rec-dtick</code>)

</li><li> ワードのボディのアドレス 例: <code>&lt;myarray+8&gt;</code> (<code>rec-body</code>)

</li><li> オペレーティング・システムの環境変数へのアクセス 例: <code>${HOME}</code> (<code>rec-env</code>)

</li><li> ボキャブラリ内のワード 例: <code>myvoc1:myvoc2:myword</code> (<code>rec-scope</code>)

</li><li> 指定の認識器(recognizer)使用して何かを認識する(訳注: <var>recognizer</var><code>?</code>
というプレフィックスが付いたワードは、 <code>rec-</code><var>recognizer</var> によって処理され、 認識器の曖昧さを排除します。 例:
<code>hex num?cafe num?add</code> rec-num としてのみパースさせる、 <code>float?1.</code>
rec-floatとしてパースさせる)(<code>rec-meta</code>)

</li></ul>

<p><code>locate</code> (see <a href="Locating-source-code-definitions.html">Locating source code definitions</a>) を使用して、 ソース・コードの一片を、
どの認識器(recognizer)が認識するか調べられます。  例:
</p>
<div class="example">
<pre class="example">defer mydefer
locate -&gt;mydefer
</pre></div>

<p>これは <code>rec-to</code> が <code>-&gt;mydefer</code> を認識したことを示すハズです。  ただし、
認識器がディクショナリのワードを認識する場合(スコープ認識機能など)、 locate はそのワードを表示します。
</p>
<p>以下を使用すると、 使用されている認識器と認識器の順序を確認できます
</p>
<span id="index-_002erecognizers-_0028--_002d_002d--_0029-gforth_002dexperimental"></span>
<span id="index-_002erecognizers"></span>
<span id="index-_002erecognizers-1"></span>
<div class="format">
<pre class="format"><code>.recognizers</code> ( <i>&ndash;  </i>) gforth-experimental &ldquo;dot-recognizers&rdquo;
</pre></div>
<p>(.order とは異なり、)最初に検索された認識器を左端にして、 現在の認識器の順序を出力します。 すべての認識器に共通のプレフィックスである
<code>rec-</code> の代わりに、 反転表示の <code>~</code> が表示されます。
</p>


<p>通常、 認識器は、 他の認識器と同一の文字列との一致を避けるように設計されています。  たとえば、<code>rec-env</code> (環境変数認識器)には、
<code>$ADD</code> のような入力文字列の数値認識器との競合を避けるために中かっこ(braces)が必要です。 ただし、
このポリシーにはいくつかの例外があります:
</p>
<ul>
<li> ワード名には任意の名前を付けることができるため、 他の認識器と競合する可能性があります(また、 サーチ・オーダーは他の認識器よりも前に検索されます)。

<p>ただし、 名前は <code>0</code> (ゼロ)で始まらない傾向がある(そして <code>0</code> (ゼロ)
で始まる場合は特殊文字が含まれる傾向がある)ため、 base が <code>hex</code> の場合は、 数値を <code>0</code>
(ゼロ)で始めることをお勧めします。
</p>
<p>これまで私たちが見てきた幾多のコードでは、 ワードを <code>'</code> (クォート。 別名ティック)で始める方が、 <code>`</code>
(バック・クォート。別名バック・ティック) で始めるよりもはるかに一般的であるため、 xt と nt の認識器は <code>`</code>
(バック・クォート)を使用して競合を減らしてください。
</p>
</li><li> 整数認識器 <code>rec-num</code> と、 浮動小数点認識器 <code>rec-float</code> は、 どちらも、 たとえば <code>1.</code>
を認識します。 しかし、 <code>rec-num</code> が(デフォルトでは)先にあるため、 <code>1.</code> は2倍長セルの整数として認識されます。
<code>rec-float</code> を最初に使用するように認識順序を変更すると、 <code>1.</code> は浮動小数点数として認識されますが、 標準
Forth で書かれたコードを読み込むと、 非標準的な振る舞いになる可能性があります。

<p>いずれの場合も、 以下のようにして、 あなた独自のコード内では、 この競合を回避することをお勧めします。 つまり、
常に数値プレフィックスを付けて2倍長セル整数を記述します(例: <code>#1.</code>)。 また、 浮動小数点数は常に <code>e</code>
を使用して記述します(例: <code>1e</code>)。
</p>
</li><li> <code>-&gt;</code> で始まるワードをいくつか見てきました。  <code>to myvalue</code> または <code>to?-&gt;myvalue</code>
(訳注: rec-meta 構文で rec-to を指定の上で -&gt;myvalue を評価)を使用すると競合を回避できます(後者は
<code>postpone</code> で機能します)。

</li></ul>

</div>



</body>
</html>
