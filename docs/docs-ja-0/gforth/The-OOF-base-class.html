<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>The OOF base class (Gforth マニュアル)</title>

<meta name="description" content="The OOF base class (Gforth マニュアル)">
<meta name="keywords" content="The OOF base class (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="OOF.html" rel="up" title="OOF">
<link href="Class-Declaration.html" rel="next" title="Class Declaration">
<link href="Basic-OOF-Usage.html" rel="prev" title="Basic OOF Usage">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsubsection" id="The-OOF-base-class">
<div class="header">
<p>
Next: <a href="Class-Declaration.html" accesskey="n" rel="next">Class Declaration</a>, Previous: <a href="Basic-OOF-Usage.html" accesskey="p" rel="prev">Basic <samp>oof.fs</samp> Usage</a>, Up: <a href="OOF.html" accesskey="u" rel="up">The <samp>oof.fs</samp> model</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="The-oof_002efs-base-class"></span><h4 class="subsubsection">6.24.4.3 The <samp>oof.fs</samp> base class</h4>
<span id="index-oof_002efs-base-class"></span>

<p>クラスを定義するときは、 親クラスを指定する必要があります。 では、 クラスの定義はどのように始めればよいのでしょうか？ 最初から使用できるクラスは 1
つあります。 それは <code>object</code> です。 これをすべてのクラスの祖先として使用する必要があります。
これは親が存在しない唯一のクラスです。 クラスはインスタンス変数を持たない点を除けばオブジェクトでもあります。
クラスの継承や定義の変更などのクラス操作は、 クラス <code>object</code> のセレクターを通じて処理されます。
</p>
<p><code>object</code> はいくつかのセレクターを提供します:
</p>
<ul>
<li> サブクラス化には <code>class</code> を、 後で定義を追加するには <code>settings</code> を、 型情報を取得するには
<code>class?</code> (現在のクラスはスタックに渡されたクラスのサブクラスかどうか？ を調べる)。

<span id="index-object_002dclass-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dclass"></span>
<span id="index-object_002dclass-1"></span>
<div class="format">
<pre class="format"><code>object-class</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;object-class&rdquo;
</pre></div>

<span id="index-object_002ddefinitions-_0028--_002d_002d--_0029-oof"></span>
<span id="index-object_002ddefinitions"></span>
<span id="index-object_002ddefinitions-1"></span>
<div class="format">
<pre class="format"><code>object-definitions</code> ( <i>&ndash;  </i>) oof &ldquo;object-definitions&rdquo;
</pre></div>

<span id="index-object_002dclass_003f-_0028--o-_002d_002d-flag--_0029-oof"></span>
<span id="index-object_002dclass_003f"></span>
<span id="index-object_002dclass_003f-1"></span>
<div class="format">
<pre class="format"><code>object-class?</code> ( <i>o &ndash; flag  </i>) oof &ldquo;class-query&rdquo;
</pre></div>



</li><li> <code>init</code> と <code>dispose</code> をオブジェクトのコンストラクターとデストラクターとして使用します。 <code>init</code>
はオブジェクトのメモリが割り当て後に呼び出されますが、 <code>dispose</code> は割り当て解除処理も行います。 したがって、
<code>dispose</code> を再定義する場合は、 <code>super destroy</code> を使用して親の destroy も呼び出す必要があります。

<span id="index-object_002dinit-_0028--_002e_002e_002e-_002d_002d--_0029-oof"></span>
<span id="index-object_002dinit"></span>
<span id="index-object_002dinit-1"></span>
<div class="format">
<pre class="format"><code>object-init</code> ( <i>... &ndash;  </i>) oof &ldquo;object-init&rdquo;
</pre></div>

<span id="index-object_002ddispose-_0028--_002d_002d--_0029-oof"></span>
<span id="index-object_002ddispose"></span>
<span id="index-object_002ddispose-1"></span>
<div class="format">
<pre class="format"><code>object-dispose</code> ( <i>&ndash;  </i>) oof &ldquo;object-dispose&rdquo;
</pre></div>



</li><li> <code>new</code> や <code>new[]</code> や <code>:</code> や <code>ptr</code> や <code>asptr</code> や <code>[]</code>
を使用して、 名前付きおよび名前なしで、 オブジェクトとオブジェクト配列またはオブジェクト・ポインタ を作成します。

<span id="index-object_002dnew-_0028--_002d_002d-o--_0029-oof"></span>
<span id="index-object_002dnew"></span>
<span id="index-object_002dnew-1"></span>
<div class="format">
<pre class="format"><code>object-new</code> ( <i>&ndash; o  </i>) oof &ldquo;object-new&rdquo;
</pre></div>

<span id="index-object_002dnew_005b_005d-_0028--n-_002d_002d-o--_0029-oof"></span>
<span id="index-object_002dnew_005b_005d"></span>
<span id="index-object_002dnew_005b_005d-1"></span>
<div class="format">
<pre class="format"><code>object-new[]</code> ( <i>n &ndash; o  </i>) oof &ldquo;new-array&rdquo;
</pre></div>

<span id="index-object_002d_003a-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002d_003a"></span>
<span id="index-object_002d_003a-1"></span>
<div class="format">
<pre class="format"><code>object-:</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;define&rdquo;
</pre></div>

<span id="index-object_002dptr-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dptr"></span>
<span id="index-object_002dptr-1"></span>
<div class="format">
<pre class="format"><code>object-ptr</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;object-ptr&rdquo;
</pre></div>

<span id="index-object_002dasptr-_0028--o-_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dasptr"></span>
<span id="index-object_002dasptr-1"></span>
<div class="format">
<pre class="format"><code>object-asptr</code> ( <i>o &quot;name&quot; &ndash;  </i>) oof &ldquo;object-asptr&rdquo;
</pre></div>

<span id="index-object_002d_005b_005d-_0028--n-_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002d_005b_005d"></span>
<span id="index-object_002d_005b_005d-1"></span>
<div class="format">
<pre class="format"><code>object-[]</code> ( <i>n &quot;name&quot; &ndash;  </i>) oof &ldquo;array&rdquo;
</pre></div>



</li><li> <code>::</code> と <code>super</code> は明示的なスコープ設定に使用します。 明示的なスコープ指定は、
スーパークラスまたは同じインスタンス変数セットを持つクラスに対してのみ使用する必要があります。
明示的にスコープ指定されたセレクターは早期結び付け(early binding)を使用します。

<span id="index-object_002d_003a_003a-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002d_003a_003a"></span>
<span id="index-object_002d_003a_003a-1"></span>
<div class="format">
<pre class="format"><code>object-::</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;scope&rdquo;
</pre></div>

<span id="index-object_002dsuper-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dsuper"></span>
<span id="index-object_002dsuper-1"></span>
<div class="format">
<pre class="format"><code>object-super</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;object-super&rdquo;
</pre></div>



</li><li> <code>self</code> でオブジェクト自身のアドレスを取得します

<span id="index-object_002dself-_0028--_002d_002d-o--_0029-oof"></span>
<span id="index-object_002dself"></span>
<span id="index-object_002dself-1"></span>
<div class="format">
<pre class="format"><code>object-self</code> ( <i>&ndash; o  </i>) oof &ldquo;object-self&rdquo;
</pre></div>



</li><li> <code>bind</code> や <code>bound</code> や <code>link</code> や <code>is</code> を使用して、 オブジェクト・ポインターと
instance defers を割り当てます。

<span id="index-object_002dbind-_0028--o-_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dbind"></span>
<span id="index-object_002dbind-1"></span>
<div class="format">
<pre class="format"><code>object-bind</code> ( <i>o &quot;name&quot; &ndash;  </i>) oof &ldquo;object-bind&rdquo;
</pre></div>

<span id="index-object_002dbound-_0028--class-addr-_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dbound"></span>
<span id="index-object_002dbound-1"></span>
<div class="format">
<pre class="format"><code>object-bound</code> ( <i>class addr &quot;name&quot; &ndash;  </i>) oof &ldquo;object-bound&rdquo;
</pre></div>

<span id="index-object_002dlink-_0028--_0022name_0022-_002d_002d-class-addr--_0029-oof"></span>
<span id="index-object_002dlink"></span>
<span id="index-object_002dlink-1"></span>
<div class="format">
<pre class="format"><code>object-link</code> ( <i>&quot;name&quot; &ndash; class addr  </i>) oof &ldquo;object-link&rdquo;
</pre></div>

<span id="index-object_002dis-_0028--xt-_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dis"></span>
<span id="index-object_002dis-1"></span>
<div class="format">
<pre class="format"><code>object-is</code> ( <i>xt &quot;name&quot; &ndash;  </i>) oof &ldquo;object-is&rdquo;
</pre></div>



</li><li> <code>'</code> はセレクター・トークンを取得し、 <code>send</code> はスタックからセレクターを呼び出し、 <code>postpone</code>
はセレクター呼び出しコードを生成します。

<span id="index-object_002d_0027-_0028--_0022name_0022-_002d_002d-xt--_0029-oof"></span>
<span id="index-object_002d_0027"></span>
<span id="index-object_002d_0027-1"></span>
<div class="format">
<pre class="format"><code>object-'</code> ( <i>&quot;name&quot; &ndash; xt  </i>) oof &ldquo;tick&rdquo;
</pre></div>

<span id="index-object_002dpostpone-_0028--_0022name_0022-_002d_002d--_0029-oof"></span>
<span id="index-object_002dpostpone"></span>
<span id="index-object_002dpostpone-1"></span>
<div class="format">
<pre class="format"><code>object-postpone</code> ( <i>&quot;name&quot; &ndash;  </i>) oof &ldquo;object-postpone&rdquo;
</pre></div>



</li><li> <code>with</code> と <code>endwith</code> を使用して、 スタックからアクティブなオブジェクトを選択し、 そのスコープを有効にします。
<code>with</code> と <code>endwith</code> を使用すると、 ステートスマート・オブジェクトにトラップされることなく、 セレクター
<code>postpone</code> を使用してコードを作成することもできます。

<span id="index-object_002dwith-_0028--o-_002d_002d--_0029-oof"></span>
<span id="index-object_002dwith"></span>
<span id="index-object_002dwith-1"></span>
<div class="format">
<pre class="format"><code>object-with</code> ( <i>o &ndash;  </i>) oof &ldquo;object-with&rdquo;
</pre></div>

<span id="index-object_002dendwith-_0028--_002d_002d--_0029-oof"></span>
<span id="index-object_002dendwith"></span>
<span id="index-object_002dendwith-1"></span>
<div class="format">
<pre class="format"><code>object-endwith</code> ( <i>&ndash;  </i>) oof &ldquo;object-endwith&rdquo;
</pre></div>



</li></ul>

</div>
<hr>
<div class="header">
<p>
Next: <a href="Class-Declaration.html">Class Declaration</a>, Previous: <a href="Basic-OOF-Usage.html">Basic <samp>oof.fs</samp> Usage</a>, Up: <a href="OOF.html">The <samp>oof.fs</samp> model</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
