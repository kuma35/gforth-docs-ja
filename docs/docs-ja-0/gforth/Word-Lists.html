<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Word Lists (Gforth マニュアル)</title>

<meta name="description" content="Word Lists (Gforth マニュアル)">
<meta name="keywords" content="Word Lists (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Words.html" rel="up" title="Words">
<link href="Environmental-Queries.html" rel="next" title="Environmental Queries">
<link href="The-Input-Stream.html" rel="prev" title="The Input Stream">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="section" id="Word-Lists">
<div class="header">
<p>
Next: <a href="Environmental-Queries.html" accesskey="n" rel="next">Environmental Queries</a>, Previous: <a href="The-Input-Stream.html" accesskey="p" rel="prev">The Input Stream</a>, Up: <a href="Words.html" accesskey="u" rel="up">Forth Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Word-Lists-1"></span><h3 class="section">6.16 Word Lists</h3>
<span id="index-word-lists"></span>
<span id="index-header-space"></span>

<p>ワードリスト(wordlist)は名前付きワードのリストです。 新しいワードを追加したり、
ワードを名前で探したりできます(マーカー(markers)を使用して制限された方法でワードを削除することもできます)。  全ての名前付き(および
<code>reveal</code> された)ワードは 1 つのワードリスト内にあります。
</p>
<span id="index-search-order-stack"></span>
<p>テキスト・インタープリターは、 検索順序スタック(the search
order;ワードリストのスタック)に存在するワードリストをTOSから下へ検索します。 各ワードリスト内では、
概念的には最新のワードから検索が開始されます。 つまり、 ワードリスト内に同一の名前の 2 つのワードがある場合、 新しいワードが検索にヒットします。
</p>
<span id="index-compilation-word-list"></span>
<p>新しいワードは「コンパイル・ワードリスト」(<em>compilation wordlist</em>)(現在のワードリスト(current
wordlist)とも呼ばれます)に追加されます。
</p>
<span id="index-wid"></span>
<p>ファイルがファイル・ハンドルによって識別されるのとほぼ同じ方法で、 ワードリストはセル・サイズのワードリスト識別子(word list
identifier; <i>wid</i>)によって識別されます。 wid の数値には(移植可能な)意味はなく、 セッションごとに変わる可能性があります。
</p>
<p>標準 Forth の &ldquo;Search order&rdquo; ワード・セットは、
さまざまな異なるスキームの実装を可能にする低レベル・ツールのセットを提供することを目的としています。 Gforth は、 伝統的な Forth
ワードである <code>vocabulary</code> も提供します。  <samp>compat/vocabulary.fs</samp> は、 標準 Forth
での実装を提供します。
</p>



<span id="index-forth_002dwordlist-_0028--_002d_002d-wid--_0029-search"></span>
<span id="index-forth_002dwordlist"></span>
<span id="index-forth_002dwordlist-1"></span>
<div class="format">
<pre class="format"><code>forth-wordlist</code> ( <i>&ndash; wid  </i>) search &ldquo;forth-wordlist&rdquo;
</pre></div>
<p>定数(<code>Constant</code>) &ndash; <i>wid</i> は、Gforth が提供するすべての標準のワードを含むワードリストを識別します。
Gforth が呼び出されると、 このワードリストがコンパイル・ワードリストとなり、 検索順序スタック(the search
order)のTOSになります。
</p>

<span id="index-definitions-_0028--_002d_002d--_0029-search"></span>
<span id="index-definitions"></span>
<span id="index-definitions-1"></span>
<div class="format">
<pre class="format"><code>definitions</code> ( <i>&ndash;  </i>) search &ldquo;definitions&rdquo;
</pre></div>
<p>現在検索順序スタック(the search order)のTOSにあるワードリストをコンパイル・ワードリストにします(訳注: :
<code>definitions  context &nbsp;current ! ;</code> )
</p>

<span id="index-get_002dcurrent-_0028--_002d_002d-wid--_0029-search"></span>
<span id="index-get_002dcurrent"></span>
<span id="index-get_002dcurrent-1"></span>
<div class="format">
<pre class="format"><code>get-current</code> ( <i>&ndash; wid  </i>) search &ldquo;get-current&rdquo;
</pre></div>
<p><i>wid</i> は、 現在のコンパイル・ワードリストのワードリスト識別子です。
</p>

<span id="index-set_002dcurrent-_0028--wid-_002d_002d--_0029-search"></span>
<span id="index-set_002dcurrent"></span>
<span id="index-set_002dcurrent-1"></span>
<div class="format">
<pre class="format"><code>set-current</code> ( <i>wid &ndash;  </i>) search &ldquo;set-current&rdquo;
</pre></div>
<p><i>wid</i> で識別されるワードリストをコンパイル・ワードリストに設定します。
</p>

<span id="index-get_002dorder-_0028--_002d_002d-widn-_002e_002e-wid1-n--_0029-search"></span>
<span id="index-get_002dorder"></span>
<span id="index-get_002dorder-1"></span>
<div class="format">
<pre class="format"><code>get-order</code> ( <i>&ndash; widn .. wid1 n  </i>) search &ldquo;get-order&rdquo;
</pre></div>
<p>検索順序スタック(the search order)の内容をデータ・スタックにコピーします。 現在の検索順序スタックには <i>n</i>
個のエントリがあり、 そのうち <i>wid1</i> は最初に検索されるワードリスト(検索順序スタックのTOSにあるワードリスト) を表し、
<i>widn</i> は最後に検索されるワードリストを表します。
</p>

<span id="index-set_002dorder-_0028--widn-_002e_002e-wid1-n-_002d_002d--_0029-search"></span>
<span id="index-set_002dorder"></span>
<span id="index-set_002dorder-1"></span>
<div class="format">
<pre class="format"><code>set-order</code> ( <i>widn .. wid1 n &ndash;  </i>) search &ldquo;set-order&rdquo;
</pre></div>
<p><var>n</var>=0 の場合、 検索順序スタック(the search order)を空(empty)にします。  <var>n</var>=-1 の場合、
検索順序スタックを実装定義で最小化します (Gforth の場合、 これはワードリスト <code>Root</code> です)。 それ以外の場合は、
<var>n</var> 個の wid エントリを持ち、 <var>wid1</var> が最初に検索されるワードリストを表し、 <var>widn</var>
が最後に検索されるワードリストを表すように、 既存の検索順序スタックを置き換えます。
</p>

<span id="index-wordlist-_0028--_002d_002d-wid--_0029-search"></span>
<span id="index-wordlist"></span>
<span id="index-wordlist-1"></span>
<div class="format">
<pre class="format"><code>wordlist</code> ( <i>&ndash; wid  </i>) search &ldquo;wordlist&rdquo;
</pre></div>
<p><i>wid</i> で表される新しい空(empty)のワードリストを作成します。
</p>

<span id="index-table-_0028--_002d_002d-wid--_0029-gforth_002d0_002e2"></span>
<span id="index-table"></span>
<span id="index-table-1"></span>
<div class="format">
<pre class="format"><code>table</code> ( <i>&ndash; wid  </i>) gforth-0.2 &ldquo;table&rdquo;
</pre></div>
<p>検索テーブル(lookup table)を作成します(英大文字と小文字を区別し、 警告なし)。
</p>

<span id="index-cs_002dwordlist-_0028--_002d_002d-wid--_0029-gforth_002d1_002e0"></span>
<span id="index-cs_002dwordlist"></span>
<span id="index-cs_002dwordlist-1"></span>
<div class="format">
<pre class="format"><code>cs-wordlist</code> ( <i>&ndash; wid  </i>) gforth-1.0 &ldquo;cs-wordlist&rdquo;
</pre></div>
<p>英大文字小文字を区別するワードリストを作成する。
</p>

<span id="index-cs_002dvocabulary-_0028--_0022name_0022-_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-cs_002dvocabulary"></span>
<span id="index-cs_002dvocabulary-1"></span>
<div class="format">
<pre class="format"><code>cs-vocabulary</code> ( <i>&quot;name&quot; &ndash;  </i>) gforth-1.0 &ldquo;cs-vocabulary&rdquo;
</pre></div>
<p>英大文字小文字を区別するボキャブラリを作成する
</p>

<span id="index-_003eorder-_0028--wid-_002d_002d--_0029-gforth_002d0_002e5"></span>
<span id="index-_003eorder"></span>
<span id="index-_003eorder-1"></span>
<div class="format">
<pre class="format"><code>&gt;order</code> ( <i>wid &ndash;  </i>) gforth-0.5 &ldquo;to-order&rdquo;
</pre></div>
<p>検索順序スタック(the search order)というワードリストのスタックにワードリスト <var>wid</var> をプッシュする(訳注:
<var>wid</var> が 検索順序スタックの TOS になる)。
</p>

<span id="index-previous-_0028--_002d_002d--_0029-search_002dext"></span>
<span id="index-previous"></span>
<span id="index-previous-1"></span>
<div class="format">
<pre class="format"><code>previous</code> ( <i>&ndash;  </i>) search-ext &ldquo;previous&rdquo;
</pre></div>
<p>検索順序スタック(the search order)というワードリスト・スタックのTOSを捨てる
</p>

<span id="index-also-_0028--_002d_002d--_0029-search_002dext"></span>
<span id="index-also"></span>
<span id="index-also-1"></span>
<div class="format">
<pre class="format"><code>also</code> ( <i>&ndash;  </i>) search-ext &ldquo;also&rdquo;
</pre></div>
<p>検索順序スタック(the search order)でTOSを <code>DUP</code> するかのように振る舞います(訳注: <code>: also
context &nbsp;&gt;order ;</code>)。 通常はボキャブラリの前で使います(例えば <code>also Forth</code>)。 これにより、
ボキャブラリによって表されるワードリストが検索順序スタックへプッシュされるという複合的な効果が得られます(訳注:検索順序スタックのTOSを指定のボキャブラリで置き換えるのではなくて、
検索順序スタックのTOSにさらにプッシュする形にして、 ボキャブラリの次が以前の検索順序スタックのTOSになるようにする)
</p>

<span id="index-Forth-_0028--_002d_002d--_0029-search_002dext"></span>
<span id="index-Forth"></span>
<span id="index-Forth-1"></span>
<div class="format">
<pre class="format"><code>Forth</code> ( <i>&ndash;  </i>) search-ext &ldquo;Forth&rdquo;
</pre></div>
<p>検索順序スタック(the search order)の先頭にある <i>wid</i> を、 ワードリスト <code>forth-wordlist</code>
に関連付けられた <i>wid</i> に置き換えます。
</p>

<span id="index-Only-_0028--_002d_002d--_0029-search_002dext"></span>
<span id="index-Only"></span>
<span id="index-Only-1"></span>
<div class="format">
<pre class="format"><code>Only</code> ( <i>&ndash;  </i>) search-ext &ldquo;Only&rdquo;
</pre></div>
<p>検索順序スタック(the search order)を実装定義で最小化します(Gforth の場合、 これはワードリスト <code>Root</code>
です)。
</p>

<span id="index-order-_0028--_002d_002d--_0029-search_002dext"></span>
<span id="index-order"></span>
<span id="index-order-1"></span>
<div class="format">
<pre class="format"><code>order</code> ( <i>&ndash;  </i>) search-ext &ldquo;order&rdquo;
</pre></div>
<p>検索順序スタック(the search order)とコンパイル・ワードリストを出力します。
検索順序スタックのワードリストは検索される順序で出力されます(従来のスタック表示方法とは逆になります)。 続けて、
コンパイル・ワードリストが最後に表示されます。
</p>

<span id="index-_002evoc-_0028--wid-_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-_002evoc"></span>
<span id="index-_002evoc-1"></span>
<div class="format">
<pre class="format"><code>.voc</code> ( <i>wid &ndash;  </i>) gforth-0.2 &ldquo;dot-voc&rdquo;
</pre></div>
<p><var>wid</var> で表されるワードリストの名前を出力します。  <code>vocabulary</code> または <code>wordlist
constant</code> で定義された名前のみ出力できます。 それ以外の場合はアドレスを出力します。
</p>


<span id="index-find-_0028--c_002daddr-_002d_002d-xt-_002b_002d1-_007c-c_002daddr-0--_0029-core_002csearch"></span>
<span id="index-find"></span>
<span id="index-find-1"></span>
<div class="format">
<pre class="format"><code>find</code> ( <i>c-addr &ndash; xt +-1 | c-addr 0  </i>) core,search &ldquo;find&rdquo;
</pre></div>
<p>カウンタ付き文字列 <i>c-addr</i> によって指定された定義の名前を現在の検索順序スタック(the search
order)内の全てのワードリストで検索します。  定義が見つからない場合、 0 を返します。 定義が見つかった場合は、 1
(定義にデフォルト以外のコンパイル機能(compilation semantics)ある場合)または、 -1
(定義にデフォルトのコンパイル機能(compilation semantics)がある場合)を返します。  インタープリター状態で返される <i>xt</i>
はインタープリター機能(interpretation semantics)を表します。  コンパイル状態で返される <i>xt</i> は、
コンパイル機能(デフォルト以外のコンパイル機能の場合)を表すか、または、 コンパイル機能が <code>compile,</code>
(デフォルトのコンパイル機能の場合)となる実行時機能(run-time semantics)を表します。  ANS Forth 標準では、 返される
<i>xt</i> が何を表すかを明確に規定していない(または、 デフォルト以外のコンパイル機能ではなく即実行性についても言及している)ため、
このワードは移植可能なプログラムでは問題があります。 移植性がなくても問題ない場合には、 <code>find-name</code>
とその友達の方が優れています(see <a href="Name-token.html">Name token</a>)。
</p>

<span id="index-search_002dwordlist-_0028--c_002daddr-count-wid-_002d_002d-0-_007c-xt-_002b_002d1--_0029-search"></span>
<span id="index-search_002dwordlist"></span>
<span id="index-search_002dwordlist-1"></span>
<div class="format">
<pre class="format"><code>search-wordlist</code> ( <i>c-addr count wid &ndash; 0 | xt +-1  </i>) search &ldquo;search-wordlist&rdquo;
</pre></div>
<p><i>wid</i> で識別されるワードリスト内で、 <i>c-addr count</i> の文字列で指定された定義を検索します。 定義が見つからない場合は 0
を返します。 定義が見つかった場合は、 <i>xt</i> とともに 1 (定義が即実行である場合)または、  -1 (定義が即実行でない場合)を返します。
Gforth では、返される <i>xt</i> はインタープリター機能(interpretation semantics)を表します。  ANS Forth
では、 <i>xt</i> が何を表すか明確に規定していません。
</p>


<span id="index-words-_0028--_002d_002d--_0029-tools"></span>
<span id="index-words-1"></span>
<span id="index-words-2"></span>
<div class="format">
<pre class="format"><code>words</code> ( <i>&ndash;  </i>) tools &ldquo;words&rdquo;
</pre></div>
<p>検索順序スタック(the search order)の先頭にあるワードリスト内のすべての定義のリストを表示します。
</p>

<span id="index-vlist-_0028--_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-vlist"></span>
<span id="index-vlist-1"></span>
<div class="format">
<pre class="format"><code>vlist</code> ( <i>&ndash;  </i>) gforth-0.2 &ldquo;vlist&rdquo;
</pre></div>
<p><code>WORDS</code> の古い(Forth-83 より前の)名前。
</p>

<span id="index-wordlist_002dwords-_0028--wid-_002d_002d--_0029-gforth_002d0_002e6"></span>
<span id="index-wordlist_002dwords"></span>
<span id="index-wordlist_002dwords-1"></span>
<div class="format">
<pre class="format"><code>wordlist-words</code> ( <i>wid &ndash;  </i>) gforth-0.6 &ldquo;wordlist-words&rdquo;
</pre></div>
<p>ワードリスト wid の内容を表示します(訳注: ワードリストに含まれているワードをリストする)。
</p>

<span id="index-mwords-_0028--_005b_0022pattern_0022_005d-_002d_002d--_0029-gforth_002d1_002e0"></span>
<span id="index-mwords"></span>
<span id="index-mwords-1"></span>
<div class="format">
<pre class="format"><code>mwords</code> ( <i>[&quot;pattern&quot;] &ndash;  </i>) gforth-1.0 &ldquo;mwords&rdquo;
</pre></div>
<p>オプションのパラメータ <var>pattern</var> にマッチするすべてのワードをリストします。 指定しない場合、 すべてのワードが一致します。
ワードは古い方から新しい方へとリストされます。  <code>search</code> のようなパターン・マッチ(デフォルト)ですが、 <code>'
mword-filename-match is mword-match</code> を使用してワイルドカード(globbing)に切り替えることができます(訳注:
<code>mwords</code> ENTER で全部リスト、 例えば <code>mwords value</code> で value を含む名前をリスト)。
</p>


<span id="index-Root-_0028--_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-Root"></span>
<span id="index-Root-1"></span>
<div class="format">
<pre class="format"><code>Root</code> ( <i>&ndash;  </i>) gforth-0.2 &ldquo;Root&rdquo;
</pre></div>
<p>root ワードリストを検索順序スタック(the search order)に追加します。  このボキャブラリは最小の検索順序を構成し、
search-order のワードのみが含まれます。
</p>

<span id="index-Vocabulary-_0028--_0022name_0022-_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-Vocabulary"></span>
<span id="index-Vocabulary-1"></span>
<div class="format">
<pre class="format"><code>Vocabulary</code> ( <i>&quot;name&quot; &ndash;  </i>) gforth-0.2 &ldquo;Vocabulary&rdquo;
</pre></div>
<p>&quot;name&quot; の定義を作成し、 それに新しいワードリストを関連付けます。  &quot;name&quot; の実行時の効果は、 検索順序スタック(the search
order)のTOSにある <i>wid</i> を、 &quot;name&quot; に関連付けられた <i>wid</i> に置き換えることです。
</p>

<span id="index-seal-_0028--_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-seal"></span>
<span id="index-seal-1"></span>
<div class="format">
<pre class="format"><code>seal</code> ( <i>&ndash;  </i>) gforth-0.2 &ldquo;seal&rdquo;
</pre></div>
<p>現在検索順序スタック(the search order)のTOSにあるワードリスト以外のすべてのワードリストを検索順序スタックから削除します。
</p>

<span id="index-vocs-_0028--_002d_002d--_0029-gforth_002d0_002e2"></span>
<span id="index-vocs"></span>
<span id="index-vocs-1"></span>
<div class="format">
<pre class="format"><code>vocs</code> ( <i>&ndash;  </i>) gforth-0.2 &ldquo;vocs&rdquo;
</pre></div>
<p>システムで定義されているボキャブラリとワードリストをリストします。
</p>

<span id="index-current-_0028--_002d_002d-addr--_0029-gforth_002d0_002e2"></span>
<span id="index-current"></span>
<span id="index-current-1"></span>
<div class="format">
<pre class="format"><code>current</code> ( <i>&ndash; addr  </i>) gforth-0.2 &ldquo;current&rdquo;
</pre></div>
<p>変数(<code>Variable</code>) &ndash; コンパイル・ワードリストの <i>wid</i> を保持。
</p>

<span id="index-context-_0028--_002d_002d-addr--_0029-gforth_002d0_002e2"></span>
<span id="index-context"></span>
<span id="index-context-1"></span>
<div class="format">
<pre class="format"><code>context</code> ( <i>&ndash; addr  </i>) gforth-0.2 &ldquo;context&rdquo;
</pre></div>
<p><code>context</code> <code>@</code> すると、 検索順序スタック(the search order)のTOSにあるワードリストの
<i>wid</i> が得られます。
</p>


<span id="index-map_002dvocs-_0028--_002e_002e_002e-xt-_002d_002d-_002e_002e_002e--_0029-gforth_002d1_002e0"></span>
<span id="index-map_002dvocs"></span>
<span id="index-map_002dvocs-1"></span>
<div class="format">
<pre class="format"><code>map-vocs</code> ( <i>... xt &ndash; ...  </i>) gforth-1.0 &ldquo;map-vocs&rdquo;
</pre></div>
<p>システム内のすべてのワードリスト(テーブルと cs-wordlist を含む)に対して xt ( ... wid &ndash; ...) を実行します。
</p>



<ul class="section-toc">
<li><a href="Vocabularies.html" accesskey="1">Vocabularies</a></li>
<li><a href="Why-use-word-lists_003f.html" accesskey="2">Why use word lists?</a></li>
<li><a href="Word-list-example.html" accesskey="3">Word list example</a></li>
</ul>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Environmental-Queries.html">Environmental Queries</a>, Previous: <a href="The-Input-Stream.html">The Input Stream</a>, Up: <a href="Words.html">Forth Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
