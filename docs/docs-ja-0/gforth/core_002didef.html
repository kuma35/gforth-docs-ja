<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>core-idef (Gforth マニュアル)</title>

<meta name="description" content="core-idef (Gforth マニュアル)">
<meta name="keywords" content="core-idef (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-Core-Words.html" rel="up" title="The Core Words">
<link href="core_002dambcond.html" rel="next" title="core-ambcond">
<link href="The-Core-Words.html" rel="prev" title="The Core Words">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection" id="core_002didef">
<div class="header">
<p>
Next: <a href="core_002dambcond.html" accesskey="n" rel="next">Ambiguous conditions</a>, Previous: <a href="The-Core-Words.html" accesskey="p" rel="prev">The Core Words</a>, Up: <a href="The-Core-Words.html" accesskey="u" rel="up">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Shi-Zhuang-Mei-opusiyon_0028Implementation-Defined-Options_003bidef_0029"></span><h4 class="subsection">9.1.1 実装毎オプション(Implementation Defined Options;idef)</h4>
<span id="index-core-words_002c-implementation_002ddefined-options"></span>
<span id="index-implementation_002ddefined-options_002c-core-words"></span>


<dl compact="compact">
<dt id='index-cell_002daligned-addresses'><span><i>セル単位に整列されたアドレス:</i><a href='#index-cell_002daligned-addresses' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-aligned-addresses"></span>
<p>プロセッサ依存です。 Gforth の整列(alignment)ワードは自然な整列(natural alignment)を実行します(たとえば、 サイズ
8 のデータに対して整列されたアドレスは 8 で割り切れます)。 通常、 非整列アクセス(unaligned accesses)では <code>-23
THROW</code> が発生します。
</p>
</dd>
<dt id='index-EMIT-and-non_002dgraphic-characters'><span><i><code>EMIT</code> と非表示文字:</i><a href='#index-EMIT-and-non_002dgraphic-characters' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-non_002dgraphic-characters-and-EMIT"></span>
<p>文字(character)は C 言語のライブラリ関数(実際にはマクロ) <code>putc</code> を使用して出力されます。
</p>
</dd>
<dt id='index-character-editing-of-ACCEPT-and-EXPECT'><span><i><code>ACCEPT</code> と <code>EXPECT</code> の文字編集:</i><a href='#index-character-editing-of-ACCEPT-and-EXPECT' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-editing-in-ACCEPT-and-EXPECT"></span>
<span id="index-ACCEPT_002c-editing"></span>
<span id="index-EXPECT_002c-editing"></span>
<p>これは、 Emacs のようなキー・バインディングを備えた GNU readline ライブラリ(see <a data-manual="readline" href="https://tiswww.cwru.edu/php/chet/readline/readline.html#Readline-Interaction">Command Line Editing</a> in <cite>The GNU Readline
Library</cite>)をモデルにしています。 <kbd>Tab</kbd> を入力するたびに
(すべての補完に共通のプレフィックスを生成するのではなく)完全なワード語補完を生成するという点で少し異なります。 See <a href="Command_002dline-editing.html">Command-line editing</a>
</p>
</dd>
<dt id='index-character-set'><span><i>文字セット:</i><a href='#index-character-set' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>あなたのコンピュータと表示デバイスの文字セット。 Gforth は 8 ビットクリーンです(ただし、
システム内の他のコンポーネントが問題を引き起こす可能性があります)。
</p>
</dd>
<dt id='index-character_002daligned-address-requirements'><span><i>文字単位に整列されたアドレスの要件:</i><a href='#index-character_002daligned-address-requirements' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>インストールに依存します。 現在、 文字は C言語の <code>unsigned char</code> で表されます。 (リクエストへのコメントですけども、
)将来的には <code>wchar_t</code> に切り替える可能性があります。
</p>
</dd>
<dt id='index-character_002dset-extensions-and-matching-of-names'><span><i>文字セット拡張と名前の照合:</i><a href='#index-character_002dset-extensions-and-matching-of-names' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-case_002dsensitivity-for-name-lookup"></span>
<span id="index-name-lookup_002c-case_002dsensitivity"></span>
<span id="index-locale-and-case_002dsensitivity"></span>
<p>ASCII NUL 文字を除く任意の文字を名前に使用できます。 照合では大文字と小文字が区別されません(<code>TABLE</code> を除く)。 照合は C
言語ライブラリ関数 <code>strncasecmp</code> を使用して実行されますが、 その関数はおそらくロケールの影響を受けます。
たとえば、<code>C</code> ロケールではアクセントとウムラウトが認識されないため、 そのロケールでは大文字と小文字が区別されて照合されます。
移植性の理由から、 <code>C</code> ロケールで動作するようにプログラムを作成することが最善です。 そうすれば、 ポーランド人のプログラマ(ISO
Latin-2 でエンコードされた文字を含むワードを使用する可能性がある)と、 フランスのプログラマ(ISO
Latin-1)が作成したライブラリを同じプログラム内で使用できます(もちろん、 <code>WORDS</code>
は一部のワードに対して愉快な結果を生成します(どのワードでそうなるかは、 使用しているフォントによって異なります))。 また、
あなたのご希望のロケールが他のオペレーティング・システムでは利用できない場合もあります。 Unicode
がいつかこれらの問題を解決してくれることを願っています。
</p>
</dd>
<dt id='index-space-delimiters'><span><i>制御文字がスペース区切り文字と一致する条件:</i><a href='#index-space-delimiters' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-control-characters-as-delimiters"></span>
<p><code>word</code> がスペース文字を区切り文字として使用して呼び出された場合、 すべての空白文字(C 言語マクロ <code>isspace()</code>
で識別される)が区切り文字になります。 一方、 <code>parse</code> はスペースを他の区切り文字と同様に扱います。
<code>parse-name</code> はデフォルトで外部インタープリター (別名テキスト・インタープリター) によって使用され、
すべての空白文字を区切り文字として扱います。
</p>
</dd>
<dt id='index-control_002dflow-stack_002c-format'><span><i>制御フロースタックの形式:</i><a href='#index-control_002dflow-stack_002c-format' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>データ・スタックは制御フロー・スタックとして使用されます。 制御フロー・スタック項目のセル単位でのサイズは、 constant
<code>cs-item-size</code> によって与えられます。 この記事の執筆時点では、 制御フロー・スタック項目はローカル変数リスト(3番目)、
コード内のアドレス(2 番目)、 アイテムを識別するためのタグ(TOS) で構成されています。 タグとして次のタグが使用されています:
<code>defstart</code>, <code>live-orig</code>, <code>dead-orig</code>, <code>dest</code>,
<code>do-dest</code>, <code>scopestart</code>
</p>
</dd>
<dt id='index-digits-_003e-35'><span><i>35を超える「数字」の変換</i><a href='#index-digits-_003e-35' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>文字 <code>[\]^_'</code> は、 10 進数値で 36〜41 の「数字」として解釈されます(訳注: 基数による)。
それより大きな「数字」の多くは(直接)入力する方法がありません。
</p>
</dd>
<dt id='index-EXPECT_002c-display-after-end-of-input'><span><i><code>ACCEPT</code> および <code>EXPECT</code> で入力が終了した後の表示:</i><a href='#index-EXPECT_002c-display-after-end-of-input' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-ACCEPT_002c-display-after-end-of-input"></span>
<p>入力した文字列の末尾にカーソルが移動します。  <kbd>Return</kbd> キーを使用して入力を終了する場合は、 スペースが入力されます。
</p>
</dd>
<dt id='index-exception-abort-sequence-of-ABORT_0022'><span><i><code>ABORT&quot;</code> の 例外中止(exception abort)シーケンス:</i><a href='#index-exception-abort-sequence-of-ABORT_0022' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-ABORT_0022_002c-exception-abort-sequence"></span>
<p>エラー文字列は変数 <code>&quot;error</code> に保存され、 <code>-2 throw</code> が実行されます。
</p>
</dd>
<dt id='index-input-line-terminator'><span><i>入力行終端文字:</i><a href='#index-input-line-terminator' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-line-terminator-on-input"></span>
<span id="index-newline-character-on-input"></span>
<p>対話入力の場合は、 <kbd>C-m</kbd> (CR) および <kbd>C-j</kbd> (LF) で行を終了します。 通常、 これらの文字は、
<kbd>Enter</kbd> キーまたは <kbd>Return</kbd> キーを入力したときに生成されます。
</p>
</dd>
<dt id='index-maximum-size-of-a-counted-string'><span><i>カウンタ付き文字列の最大サイズ:</i><a href='#index-maximum-size-of-a-counted-string' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-counted-string_002c-maximum-size"></span>
<p><code>s&quot; /counted-string&quot; environment? drop .</code> で得られます。 現在、 すべてのプラットフォームで 255
文字ですが、 これは変更される可能性があります。
</p>
</dd>
<dt id='index-maximum-size-of-a-parsed-string'><span><i>パースされる字列の最大サイズ:</i><a href='#index-maximum-size-of-a-parsed-string' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-parsed-string_002c-maximum-size"></span>
<p>constant <code>/line</code> によって与えられます。 現在 255 文字です。
</p>
</dd>
<dt id='index-maximum-size-of-a-definition-name_002c-in-characters'><span><i>定義名の最大サイズ(文字単位):</i><a href='#index-maximum-size-of-a-definition-name_002c-in-characters' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-name_002c-maximum-length"></span>
<p>MAX-U / 8 (<code>s&quot; max-u&quot; environment? drop 8 u/ u.</code>)
</p>
</dd>
<dt id='index-maximum-string-length-for-ENVIRONMENT_003f_002c-in-characters'><span><i><code>ENVIRONMENT?</code> の最大文字列長(文字単位):</i><a href='#index-maximum-string-length-for-ENVIRONMENT_003f_002c-in-characters' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-ENVIRONMENT_003f-string-length_002c-maximum"></span>
<p>MAX-U / 8 (<code>s&quot; max-u&quot; environment? drop 8 u/ u.</code>)
</p>
</dd>
<dt id='index-user-input-device_002c-method-of-selecting'><span><i>ユーザー入力デバイスを選択する方法:</i><a href='#index-user-input-device_002c-method-of-selecting' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>ユーザー入力デバイスは標準入力です。 現時点では、 Gforth 内から変更する方法はありません。 ただし、 入力は通常、Gforth
を起動するOSコマンド・ラインでリダイレクトできます。
</p>
</dd>
<dt id='index-user-output-device_002c-method-of-selecting'><span><i>ユーザー出力デバイスを選択する方法:</i><a href='#index-user-output-device_002c-method-of-selecting' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>EMIT</code> および <code>TYPE</code> は、値 <code>outfile-id</code> (デフォルトでは <code>stdout</code>)
に格納されているファイル ID に出力します。 Gforth は、ユーザー出力デバイスが端末の場合はバッファなしの出力を使用します。 それ以外の場合、
出力はバッファリングされます。
</p>
</dd>
<dt><span><i>ディクショナリのコンパイル方法:</i></span></dt>
<dd><p>わざわざここで文書化する必要ある？(What are we expected to document here?)
</p>
</dd>
<dt id='index-number-of-bits-in-one-address-unit'><span><i>アドレス単位 1 つ分のビット数:</i><a href='#index-number-of-bits-in-one-address-unit' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-address-unit_002c-size-in-bits"></span>
<p><code>s&quot; address-units-bits&quot; environment? drop .</code> で得られます。 現在はすべてのプラットフォームで 8
</p>
</dd>
<dt id='index-number-representation-and-arithmetic'><span><i>数値の表現と算術演算:</i><a href='#index-number-representation-and-arithmetic' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>プロセッサに依存します。 現在のすべてのプラットフォームでは 2 進数は 2 の補数表現です。
</p>
</dd>
<dt id='index-ranges-for-integer-types'><span><i>整数型の範囲:</i><a href='#index-ranges-for-integer-types' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-integer-types_002c-ranges"></span>
<p>インストールに依存します。  <code>MAX-N</code> と <code>MAX-U</code> と <code>MAX-D</code> と <code>MAX-UD</code>
の環境クエリ(environmental queries)を作成します。 符号なし(および正)型の下限は 0 です。 2 の補数マシンおよび 1
の補数マシンの符号付き型の下限は、 その上限に 1 を加算することで計算できます。
</p>
</dd>
<dt id='index-read_002donly-data-space-regions'><span><i>読み取り専用データ空間領域:</i><a href='#index-read_002donly-data-space-regions' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-data_002dspace_002c-read_002donly-regions"></span>
<p>Forth データ空間全体が書き込み可能です。
</p>
</dd>
<dt id='index-size-of-buffer-at-WORD'><span><i><code>WORD</code> のバッファのサイズ:</i><a href='#index-size-of-buffer-at-WORD' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-WORD-buffer-size"></span>
<p><code>PAD HERE - .</code> で得られます。 32 ビット マシンでは 104 文字。 バッファは、 数値表示出力文字列(pictured
numeric output string)と共有されます。  <code>PAD</code> の上書きが許容される場合、
そのサイズは残りの辞書スペースと同じになりますが、 実用になるのはカウンタ付き文字列に収まる範囲程度です。
</p>
</dd>
<dt id='index-cell-size'><span><i>アドレス単位での 1 セルのサイズ:</i><a href='#index-cell-size' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>1 cells .</code> で得られます。
</p>
</dd>
<dt id='index-char-size'><span><i>アドレス単位での 1 文字のサイズ:</i><a href='#index-char-size' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>1 chars .</code> で得られます。 現在のすべてのプラットフォームで 1
</p>
</dd>
<dt id='index-size-of-the-keyboard-terminal-buffer'><span><i>キーボード・ターミナル・バッファのサイズ:</i><a href='#index-size-of-the-keyboard-terminal-buffer' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-terminal-buffer_002c-size"></span>
<p>さまざまです。  <code>lp@ tib - .</code> を使用して、 特定の時点でのサイズを確認できます。 これは、
現在のファイルを含むファイルのローカル変数スタックおよび TIB と共有されます。 コマンド・ライン・オプション <code>-l</code> を使用して、
Gforth 起動時に TIB とローカル変数スタックのスペースの量を変更できます。
</p>
</dd>
<dt id='index-size-of-the-pictured-numeric-output-buffer'><span><i>表示数値出力(pictured numeric output)バッファのサイズ:</i><a href='#index-size-of-the-pictured-numeric-output-buffer' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-pictured-numeric-output-buffer_002c-size"></span>
<p><code>PAD HERE - .</code> で得られます。 32 ビット マシンでは 104 文字。 バッファは <code>WORD</code> と共有されます。
</p>
</dd>
<dt id='index-size-of-the-scratch-area-returned-by-PAD'><span><i><code>PAD</code> によって返されるスクラッチ領域のサイズ:</i><a href='#index-size-of-the-scratch-area-returned-by-PAD' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-PAD-size"></span>
<p>ディクショナリ・スペースの残りまるごと。 <code>unused pad here - - .</code> で得られます。
</p>
</dd>
<dt id='index-case_002dsensitivity-characteristics'><span><i>システムが英大文字・小文字を区別するか(case-sensitivity characteristics):</i><a href='#index-case_002dsensitivity-characteristics' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>ディクショナリの検索では大文字と小文字が区別されません(<code>TABLE</code> を除く)。 ただし、 上記 <i>character-set
extensions</i> で説明したように、 非 ASCII 文字のマッチングは使用しているロケールによって決まります。 デフォルトの <code>C</code>
ロケールでは、 すべての非 ASCII 文字は大文字と小文字を区別して照合されます。
</p>
</dd>
<dt id='index-system-prompt'><span><i>システムのプロンプト:</i><a href='#index-system-prompt' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-prompt"></span>
<p>インタプリタ状態では <code> ok</code> で、 コンパイル状態では <code> compiled</code> です。
</p>
</dd>
<dt id='index-division-rounding'><span><i>除算の四捨五入(division rounding):</i><a href='#index-division-rounding' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>通常の除算ワード <code>/ mod /mod */ */mod</code> は、フロア除算(floored division)を実行します (Gforth
のデフォルトのインストールを使用の場合)。  <code>s&quot; floored&quot; environment? drop .</code> でこれを確認できます。
特定の除算の四捨五入が必要なプログラムを作成する場合は、 移植性を高めるために <code>fm/mod</code> または <code>sm/rem</code>
を使用するのが最適です。
</p>
</dd>
<dt id='index-STATE-values'><span><i>true の場合の <code>STATE</code> の値:</i><a href='#index-STATE-values' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>-1.
</p>
</dd>
<dt><span><i>算術オーバーフロー後に返される値:</i></span></dt>
<dd><p>2 の補数マシンでは、 1倍長の場合は 2**bits-per-cell 、 2倍長の場合はセルあたり 4**bits-per-cell
を法として演算(modulo)が実行されます(符号付き型では適切なマッピングを使用)。 ゼロによる除算は通常、 <code>-55 throw</code>
(Floating-point unidentified fault) または <code>-10 throw</code> (divide by zero)
を引き起こします。  整数除算のオーバーフローにより、 <code>-55 throw</code> や <code>-10 throw</code> 、 または
<code>-11 throw</code> が発生する可能性があります。 <code>gforth-fast</code> エンジン(OSコマンドラインから
<code>gforth-fast</code> で起動)の除算オーバーフローやゼロ除算では、 例外が生成されずに偽の結果が返される可能性があります。
</p>
</dd>
<dt id='index-DOES_003e_002c-visibility-of-current-definition'><span><i>現在の定義(current definition)が <code>DOES&gt;</code> の後ろで見つかる(可視)かどうか:</i><a href='#index-DOES_003e_002c-visibility-of-current-definition' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>いいえ(No)。
</p>
</dd>
</dl>

</div>
<hr>
<div class="header">
<p>
Next: <a href="core_002dambcond.html">Ambiguous conditions</a>, Previous: <a href="The-Core-Words.html">The Core Words</a>, Up: <a href="The-Core-Words.html">The Core Words</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
