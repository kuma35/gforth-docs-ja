<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright © 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Interpreter Directives (Gforth マニュアル)</title>

<meta name="description" content="Interpreter Directives (Gforth マニュアル)">
<meta name="keywords" content="Interpreter Directives (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-Text-Interpreter.html" rel="up" title="The Text Interpreter">
<link href="Recognizers.html" rel="next" title="Recognizers">
<link href="Interpret_002fCompile-states.html" rel="prev" title="Interpret/Compile states">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
pre.format-preformatted {font-family: inherit}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Interpreter-Directives">
<div class="nav-panel">
<p>
Next: <a href="Recognizers.html" accesskey="n" rel="next">Recognizers</a>, Previous: <a href="Interpret_002fCompile-states.html" accesskey="p" rel="prev">Interpret/Compile states</a>, Up: <a href="The-Text-Interpreter.html" accesskey="u" rel="up">The Text Interpreter</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Interpreter-Directives-1"><span>6.14.4 Interpreter Directives<a class="copiable-link" href="#Interpreter-Directives-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-interpreter-directives"></a>
<a class="index-entry-id" id="index-conditional-compilation"></a>

<p>以下のワード群は通常、 インタープリター状態で使用されます。 通常は、
ソース・ファイルのどの部分がテキスト・インタープリターによって処理されるかを制御します。 これらは、 標準 Forth
のワードには少数しかありませんが、 Gforth では、 非即実行バージョンがコンパイル状態でのみ使用できるという事実を補うために、
豊富な即実行制御構造ワードのセットでこれらを補っています(see <a class="pxref" href="Control-Structures.html">Control Structures</a>)。 一般的な使用法は以下のとおりです:
</p>
<div class="example">
<pre class="example-preformatted">[undefined] \G [if]
  : \G ... ; immediate
[endif]
</pre></div>

<p>これは、 システムが <code class="code">\G</code> を定義していない場合は、 幾つかの置き換えプログラムをコンパイルします(機能が制限される可能性があります)。
</p>

<a class="index-entry-id" id="index-_005bIF_005d-_0028-flag-_002d_002d-_0029-tools_002dext"></a>
<a class="index-entry-id" id="index-_005bIF_005d"></a>
<a class="index-entry-id" id="index-_005bIF_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[IF]</code> ( <i class="i">flag &ndash;  </i>) tools-ext &ldquo;bracket-if&rdquo;
</pre></div>
<p>flag が <code class="code">TRUE</code> の場合は何もしません(したがって、 後続のワードは通常どおり実行されます)。 flag が
<code class="code">FALSE</code> の場合、 対になる <code class="code">[ELSE]</code> または <code class="code">[THEN]</code> がパースされて破棄されるまで、
<code class="code">[IF]</code>..  <code class="code">[ELSE]</code>.. <code class="code">[THEN]</code> や <code class="code">[IF]</code>.. <code class="code">[THEN]</code>
の入れ子になったモノを含むパース領域(入力バッファー/パース領域 は、 必要に応じて <code class="code">REFILL</code>
を使用して再充填します)からワードをパースして破棄します。 即実行ワードです。
</p>

<a class="index-entry-id" id="index-_005bELSE_005d-_0028-_002d_002d-_0029-tools_002dext"></a>
<a class="index-entry-id" id="index-_005bELSE_005d"></a>
<a class="index-entry-id" id="index-_005bELSE_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[ELSE]</code> ( <i class="i">&ndash;  </i>) tools-ext &ldquo;bracket-else&rdquo;
</pre></div>
<p>対になる <code class="code">[THEN]</code> がパースされて破棄されるまで、 <code class="code">[IF]</code>..
<code class="code">[ELSE]</code>.. <code class="code">[THEN]</code> や <code class="code">[IF]</code>.. <code class="code">[THEN]</code>
の入れ子になったモノを含むパース領域(入力バッファー/パース領域 は、 必要に応じて <code class="code">REFILL</code>
を使用して再充填します)からワードをパースして破棄します。 <code class="code">FALSE</code> の場合、<code class="code">[IF]</code> は <code class="code">[ELSE]</code>
をパースして破棄し、後続のワードは通常どおり実行されたままになります。 即実行ワードです。
</p>

<a class="index-entry-id" id="index-_005bTHEN_005d-_0028-_002d_002d-_0029-tools_002dext"></a>
<a class="index-entry-id" id="index-_005bTHEN_005d"></a>
<a class="index-entry-id" id="index-_005bTHEN_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[THEN]</code> ( <i class="i">&ndash;  </i>) tools-ext &ldquo;bracket-then&rdquo;
</pre></div>
<p>何もしない。 パースして破棄する他のワードのマーカーとして使用されます。 即実行ワードです。
</p>

<a class="index-entry-id" id="index-_005bENDIF_005d-_0028-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bENDIF_005d"></a>
<a class="index-entry-id" id="index-_005bENDIF_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[ENDIF]</code> ( <i class="i">&ndash;  </i>) gforth-0.2 &ldquo;bracket-end-if&rdquo;
</pre></div>
<p>何もしません。 <code class="code">[THEN]</code> の同義語(synonym)です。
</p>


<a class="index-entry-id" id="index-_005bdefined_005d-_0028-_0022_003cspaces_003ename_0022-_002d_002d-flag-_0029-tools_002dext"></a>
<a class="index-entry-id" id="index-_005bdefined_005d"></a>
<a class="index-entry-id" id="index-_005bdefined_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[defined]</code> ( <i class="i">&quot;&lt;spaces&gt;name&quot; &ndash; flag  </i>) tools-ext &ldquo;bracket-defined&rdquo;
</pre></div>
<p>現在の検索順序スタック(the search order)で名前が見つかった場合は true を返します
</p>

<a class="index-entry-id" id="index-_005bundefined_005d-_0028-_0022_003cspaces_003ename_0022-_002d_002d-flag-_0029-tools_002dext"></a>
<a class="index-entry-id" id="index-_005bundefined_005d"></a>
<a class="index-entry-id" id="index-_005bundefined_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[undefined]</code> ( <i class="i">&quot;&lt;spaces&gt;name&quot; &ndash; flag  </i>) tools-ext &ldquo;bracket-undefined&rdquo;
</pre></div>
<p>現在の検索順序スタック(the search order)で名前が見つかった場合は false を返します
</p>


<a class="index-entry-id" id="index-_005bIFDEF_005d-_0028-_0022_003cspaces_003ename_0022-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bIFDEF_005d"></a>
<a class="index-entry-id" id="index-_005bIFDEF_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[IFDEF]</code> ( <i class="i">&quot;&lt;spaces&gt;name&quot; &ndash;  </i>) gforth-0.2 &ldquo;bracket-if-def&rdquo;
</pre></div>
<p>現在の検索順序スタック(the search order)で name が見つかった場合は、 <code class="code">TRUE</code> フラグを伴った
<code class="code">[IF]</code> のように振る舞いし、 そうでない場合は、 <code class="code">FALSE</code> フラグを伴った <code class="code">[IF]</code> のように動作します。
即実行ワードです。
</p>

<a class="index-entry-id" id="index-_005bIFUNDEF_005d-_0028-_0022_003cspaces_003ename_0022-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bIFUNDEF_005d"></a>
<a class="index-entry-id" id="index-_005bIFUNDEF_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[IFUNDEF]</code> ( <i class="i">&quot;&lt;spaces&gt;name&quot; &ndash;  </i>) gforth-0.2 &ldquo;bracket-if-un-def&rdquo;
</pre></div>
<p>現在の検索順序スタック(the search order)で name が見つからない場合は、 <code class="code">TRUE</code> フラグを伴った
<code class="code">[IF]</code> のように動作し、 それ以外の場合は、<code class="code">FALSE</code> フラグを伴った <code class="code">[IF]</code> のように動作します。
即実行ワード。
</p>


<a class="index-entry-id" id="index-_005b_003fDO_005d-_0028-n_002dlimit-n_002dindex-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005b_003fDO_005d"></a>
<a class="index-entry-id" id="index-_005b_003fDO_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[?DO]</code> ( <i class="i">n-limit n-index &ndash;  </i>) gforth-0.2 &ldquo;bracket-question-do&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bDO_005d-_0028-n_002dlimit-n_002dindex-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bDO_005d"></a>
<a class="index-entry-id" id="index-_005bDO_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[DO]</code> ( <i class="i">n-limit n-index &ndash;  </i>) gforth-0.2 &ldquo;bracket-do&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bLOOP_005d-_0028-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bLOOP_005d"></a>
<a class="index-entry-id" id="index-_005bLOOP_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[LOOP]</code> ( <i class="i">&ndash;  </i>) gforth-0.2 &ldquo;bracket-loop&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005b_002bLOOP_005d-_0028-n-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005b_002bLOOP_005d"></a>
<a class="index-entry-id" id="index-_005b_002bLOOP_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[+LOOP]</code> ( <i class="i">n &ndash;  </i>) gforth-0.2 &ldquo;bracket-question-plus-loop&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bFOR_005d-_0028-n-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bFOR_005d"></a>
<a class="index-entry-id" id="index-_005bFOR_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[FOR]</code> ( <i class="i">n &ndash;  </i>) gforth-0.2 &ldquo;bracket-for&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bNEXT_005d-_0028-n-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bNEXT_005d"></a>
<a class="index-entry-id" id="index-_005bNEXT_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[NEXT]</code> ( <i class="i">n &ndash;  </i>) gforth-0.2 &ldquo;bracket-next&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bI_005d-_0028-run_002dtime-_002d_002d-n-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bI_005d"></a>
<a class="index-entry-id" id="index-_005bI_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[I]</code> ( <i class="i">run-time &ndash; n  </i>) gforth-0.2 &ldquo;bracket-i&rdquo;
</pre></div>
<p>実行時、 <code class="code">[I]</code> はテキスト・インタープリター時の <code class="code">[do]</code>
の反復(iteration)のループ・インデックスをプッシュします。  インタープリター時にインデックスを処理したい場合は、 <code class="code">[I]</code>
を対話的に通訳(interpret)するか、 または <code class="code">INT-[I]</code> を使用します。
</p>

<a class="index-entry-id" id="index-INT_002d_005bI_005d-_0028-_002d_002d-n-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-INT_002d_005bI_005d"></a>
<a class="index-entry-id" id="index-INT_002d_005bI_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">INT-[I]</code> ( <i class="i">&ndash; n  </i>) gforth-1.0 &ldquo;int-bracket-i&rdquo;
</pre></div>
<p>テキスト・インタープリター時に <code class="code">[do]</code> 反復のループ・インデックスをプッシュします。
</p>


<a class="index-entry-id" id="index-_005bBEGIN_005d-_0028-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bBEGIN_005d"></a>
<a class="index-entry-id" id="index-_005bBEGIN_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[BEGIN]</code> ( <i class="i">&ndash;  </i>) gforth-0.2 &ldquo;bracket-begin&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bUNTIL_005d-_0028-flag-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bUNTIL_005d"></a>
<a class="index-entry-id" id="index-_005bUNTIL_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[UNTIL]</code> ( <i class="i">flag &ndash;  </i>) gforth-0.2 &ldquo;bracket-until&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bAGAIN_005d-_0028-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bAGAIN_005d"></a>
<a class="index-entry-id" id="index-_005bAGAIN_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[AGAIN]</code> ( <i class="i">&ndash;  </i>) gforth-0.2 &ldquo;bracket-again&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bWHILE_005d-_0028-flag-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bWHILE_005d"></a>
<a class="index-entry-id" id="index-_005bWHILE_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[WHILE]</code> ( <i class="i">flag &ndash;  </i>) gforth-0.2 &ldquo;bracket-while&rdquo;
</pre></div>

<a class="index-entry-id" id="index-_005bREPEAT_005d-_0028-_002d_002d-_0029-gforth_002d0_002e2"></a>
<a class="index-entry-id" id="index-_005bREPEAT_005d"></a>
<a class="index-entry-id" id="index-_005bREPEAT_005d-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">[REPEAT]</code> ( <i class="i">&ndash;  </i>) gforth-0.2 &ldquo;bracket-repeat&rdquo;
</pre></div>


<p><code class="code">#line</code> を使用すると、 現在のソース行番号とソース・ファイルに関する Gforth の認識を変更できます。  これは、 Forth
ファイルが他のソース・コード・ファイルから生成されており、 たとえば、
オリジナルのソース・コードを参照するエラー・メッセージなどを取得したい場合に便利です。 その場合、 Forth コード・ジェネレーターは、 必要に応じて
Forth コードに <code class="code">#line</code> 行を挿入する必要があります。
</p>
<a class="index-entry-id" id="index-_0023line-_0028-_0022u_0022-_0022_005b_0022file_0022_005d_0022-_002d_002d-_0029-gforth_002d1_002e0"></a>
<a class="index-entry-id" id="index-_0023line"></a>
<a class="index-entry-id" id="index-_0023line-1"></a>
<div class="format">
<pre class="format-preformatted"><code class="code">#line</code> ( <i class="i">&quot;u&quot; &quot;[&quot;file&quot;]&quot; &ndash;  </i>) gforth-1.0 &ldquo;#line&rdquo;
</pre></div>
<p>行番号を <i class="i">u</i> に設定し、 (存在する場合)ファイル名を <i class="i">file</i> に設定します。 行の残りの部分を消費します。
</p>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Recognizers.html">Recognizers</a>, Previous: <a href="Interpret_002fCompile-states.html">Interpret/Compile states</a>, Up: <a href="The-Text-Interpreter.html">The Text Interpreter</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
