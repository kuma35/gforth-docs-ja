<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Stack depth changes (Gforth マニュアル)</title>

<meta name="description" content="Stack depth changes (Gforth マニュアル)">
<meta name="keywords" content="Stack depth changes (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tools.html" rel="up" title="Tools">
<link href="Standard-Report.html" rel="prev" title="Standard Report">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="section" id="Stack-depth-changes">
<div class="header">
<p>
Previous: <a href="Standard-Report.html" accesskey="p" rel="prev"><samp>ans-report.fs</samp>: Report the words used, sorted by wordset</a>, Up: <a href="Tools.html" accesskey="u" rel="up">Tools</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Stack-depth-changes-during-interpretation"></span><h3 class="section">8.2 Stack depth changes during interpretation</h3>
<span id="index-depth_002dchanges_002efs"></span>
<span id="index-depth-changes-during-interpretation"></span>
<span id="index-stack-depth-changes-during-interpretation"></span>
<span id="index-items-on-the-stack-after-interpretation"></span>

<p>ファイルをロードした後、 スタックに項目が残っていることに気づくことがあります。  <samp> Depth-changes.fs</samp>
ツールを使用すると、 これらのスタック項目がファイル内のどこから来たのかをすばやく見つけることができます。
</p>
<p><samp> Depth-changes.fs</samp> を使用する最も簡単な方法は、 チェックするファイルの前にこれをインクルードすることです。 例:
</p>
<div class="example">
<pre class="example">gforth depth-changes.fs my-file.fs
</pre></div>

<p>これにより、 すべての空行(インタプリタ状態)でのデータ・スタックの深さと FP スタックの深さが、
最後の空行(インタプリタ状態)での深さと比較されます。 深さが等しくない場合は、 ファイル内の位置とスタックの内容が <code>~~</code>
(see <a href="Debugging.html">Debugging</a>) で出力されます。  これは、
指摘行より前の空ではない行内の段落(paragraph)でスタックの深さの変更が発生したことを示します。  ファイルの最後に空行を残しておいて、
最後の段落もチェックされるようにすることをお勧めします。
</p>
<p>通常、 空行のみをチェックするのはうまく機能しますが、 空行ではない大きなブロックが存在する場合(大きなテーブルを構築する場合など)、
このブロックのどこでスタックの深さが変更されたのかを知りたい場合があります。 以下を使用すると、
解釈(interpret)されたすべての行をチェックできます
</p>
<div class="example">
<pre class="example">gforth depth-changes.fs -e &quot;' all-lines is depth-changes-filter&quot; my-file.fs
</pre></div>

<p>これにより、 各行末ごとにスタックの深さがチェックされます。  したがって、 深さの変更は <code>~~</code>
によって報告された行で発生しています(それより前の行ではありません)。
</p>
<p>注意: これにより、 スタックの深さが変更される場所を示す精度が向上しますが、 多くの、 意図した、
スタックの深さの変更が報告されることが多いことに注意してください(たとえば、 解釈(interpret)された計算が複数の行にまたがる場合)。
一部の行のチェックを抑制するには、 これらの行の末尾にバックスラッシュを置き(その後に空白は続きません)、 以下を使用します
</p>
<div class="example">
<pre class="example">gforth depth-changes.fs -e &quot;' most-lines is depth-changes-filter&quot; my-file.fs
</pre></div>

</div>



</body>
</html>
