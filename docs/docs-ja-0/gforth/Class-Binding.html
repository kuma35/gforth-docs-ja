<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- このマニュアルは、 標準 Forth 言語の高速で移植可能な実装である Gforth (バージョン 0.7.9_20240418,
April 18, 2024)用です。 これはリファレンス・マニュアルとして機能しますが、 Forth の概要と Forth
チュートリアルも含まれています。

Authors: Bernd Paysan, Anton Ertl, Gerald Wodni Copyright (C) 1995,
1996, 1997, 1998, 2000, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012, 2013, 2014,2015,2016,2017,2018,2019,2020,2021,2022,2023 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify this
GNU Manual, like GNU software.  Copies published by the Free Software
Foundation raise funds for GNU development." -->
<title>Class Binding (Gforth マニュアル)</title>

<meta name="description" content="Class Binding (Gforth マニュアル)">
<meta name="keywords" content="Class Binding (Gforth マニュアル)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Objects.html" rel="up" title="Objects">
<link href="Method-conveniences.html" rel="next" title="Method conveniences">
<link href="Object_002dOriented-Programming-Style.html" rel="prev" title="Object-Oriented Programming Style">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="gforth.css">


</head>

<body lang="en">
<div class="subsubsection" id="Class-Binding">
<div class="header">
<p>
Next: <a href="Method-conveniences.html" accesskey="n" rel="next">Method conveniences</a>, Previous: <a href="Object_002dOriented-Programming-Style.html" accesskey="p" rel="prev">Object-Oriented Programming Style</a>, Up: <a href="Objects.html" accesskey="u" rel="up">The <samp>objects.fs</samp> model</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Class-Binding-1"></span><h4 class="subsubsection">6.24.3.6 Class Binding</h4>
<span id="index-class-binding"></span>
<span id="index-early-binding"></span>

<span id="index-late-binding"></span>
<p>通常のセレクター呼び出し(selector invocation)では、 受信オブジェクト(receiving
object)のクラスに応じて実行時(run-time)にメソッドが決定されます。
この実行時の選択(selection)は「遅延結び付け」(<i>late binding</i>)と呼ばれます。
</p>
<p>場合によっては、 別のメソッドを呼び出すことが望ましい場合があります。 たとえば、  出力オブジェクト(<code>print</code>ing
<code>object</code>s)では、 受信用クラス(receiver class)の冗長になりがちな <code>print</code> メソッドの代わりに、
単純なメソッドを使用したい事があります。 これを実現するには、 <code>print</code> の呼び出しを以下のように置き換えます(コンパイル時の場合):
</p>
<span id="index-_005bbind_005d-usage"></span>
<div class="example">
<pre class="example">[bind] object print
</pre></div>

<p>または、 インタプリタ時は以下のようにします:
</p>
<span id="index-bind-usage"></span>
<div class="example">
<pre class="example">bind object print
</pre></div>

<span id="index-class-binding_002c-alternative-to"></span>
<p>あるいは、 メソッドを名前(例: <code>print-object</code>)で定義し、 その名前を使用して呼び出すこともできます。
クラス結び付け(Class binding)は、 同じ効果を達成する(多くの場合、 より便利な)方法にすぎません。 これにより、
名前の乱雑さが回避され、 最初に名前を付けずにメソッドを直接呼び出すことができます。
</p>
<span id="index-superclass-binding"></span>
<span id="index-parent-class-binding"></span>
<p>クラス結び付け(class binding)のよくある使用法は次のとおりです: セレクターのメソッドを定義するとき、
親クラスでセレクターが行っていることと、 それ以上のことをメソッドに実行させたいことがよくあります。 この目的には、 <code>[parent]</code>
という特別なワードがあります。 <code>[parent] &quot;selector&quot;</code> は <code>[bind] &quot;parent selector&quot;</code>
と同等です。 ここで、<code>parent</code> は現在のクラスの親クラスです。 たとえば、メソッド定義は以下のようになります:
</p>
<span id="index-_005bparent_005d-usage"></span>
<div class="example">
<pre class="example">:noname
  dup [parent] foo \ 受信オブジェクトに対して親の foo を実行します
  ... \ (親の foo に加えて)更に何かする
; overrides foo
</pre></div>

<span id="index-class-binding-as-optimization"></span>
<p><cite>Object-oriented programming in ANS Forth</cite> (Forth Dimensions, March
1997) で Andrew McKewan は最適化手法としてクラス結び付け(class binding)を紹介しています。 著者は緊急の場合を除き、
最適化手法の目的で使用しないことをお勧めします。 とにかく、 このモデルでは遅延結び付け(Late binding)が非常に高速であるため、
クラス結び付け(class binding)を使用するメリットは小さいです。 適切でない場合にクラス結び付け(class binding)を使用すると、
保守性が低下します。
</p>
<p>プログラミング・スタイルの質問については次のとおりです。 セレクターは受信オブジェクト(receiving object)の祖先クラス(ancestor
classes)にのみ結び付け(bind)すべきです。 たとえば、 受信オブジェクトがクラス <code>foo</code>
またはその子孫であることがわかっているとします。 その場合は、 <code>foo</code> とその祖先にのみ結び付け(bind)するべきです。
</p>
</div>



</body>
</html>
